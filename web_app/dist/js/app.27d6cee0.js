(function(e){function t(t){for(var r,a,n=t[0],l=t[1],d=t[2],u=0,m=[];u<n.length;u++)a=n[u],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&m.push(s[a][0]),s[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(m.length)m.shift()();return o.push.apply(o,d||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],r=!0,n=1;n<i.length;n++){var l=i[n];0!==s[l]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=i[0]))}return e}var r={},s={app:0},o=[];function a(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=r,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(i,r,function(t){return e[t]}.bind(null,r));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var d=0;d<n.length;d++)t(n[d]);var c=l;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";i("85ec")},"0f75":function(e,t,i){},"1acf":function(e,t,i){"use strict";i("500d")},"1f68":function(e,t,i){"use strict";i.r(t);i("ac1f"),i("466d");var r=i("c1df"),s=i.n(r),o=i("7bb1");Object(o["b"])("secret",{validate:function(e){return"example"===e},message:"This is not the magic word"}),Object(o["b"])("required",{validate:function(e){return{required:!0,valid:-1===["",null,void 0].indexOf(e)}},message:"This field is required",computesRequired:!0}),Object(o["b"])("validDt",{validate:function(e){return s()(e,"YYYYMMDD",!0).isValid()},message:"That's not a valid date"}),Object(o["b"])("validDtTime",{validate:function(e){return s()(e,"YYYYMMDD HHmm",!0).isValid()},message:"That's not a valid date time"}),Object(o["b"])("notExpired",{validate:function(e){return s()().diff(s()(e,"YYYYMMDD",!0),"days")<0},message:"Expired"}),Object(o["b"])("notFutureDt",{validate:function(e){return{required:!0,valid:s()().diff(s()(e),"minutes")>0}},message:"Cannot be future dated",computesRequired:!0}),Object(o["b"])("dob",{validate:function(e){return{required:!0,valid:s()().diff(s()(e),"years")>0}},message:"DOB cannot be future dated",computesRequired:!0}),Object(o["b"])("phone",{validate:function(e){var t=!1,i=e.match("^[0-9]{3}-[0-9]{3}-[0-9]{4}$");return Array.isArray(i)&&(t=i[0]===e),{valid:t}},message:"That's not a valid phone number"})},4678:function(e,t,i){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=o(e);return i(t)}function o(e){if(!i.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=o,e.exports=s,s.id="4678"},"500d":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r,s,o,a,n,l,d=i("2b0e"),c=i("2f62"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card border-0 ml-4 mr-4",attrs:{id:"app"}},[r("div",{staticClass:"card-header",attrs:{id:"roadsafety-header"}},[r("div",{staticClass:"d-flex justify-content-between"},[r("img",{attrs:{width:"300px",src:i("a9b4")}}),r("p",{staticClass:"font-weight-bold text-warning"},[e._v("DRAFT "),r("span",{staticClass:"text-light small"},[e._v(e._s(e.getAppVersion))])])])]),r("div",{staticClass:"card-body"},[e.isNetworkOnline?r("offline-banner"):e._e(),e.isFormBeingEdited?r(e.getSelectedFormComponent,{tag:"component",attrs:{data:e.getCurrentlyEditedForm.data,name:e.getCurrentlyEditedForm.short_name}}):e._e(),e.isRecentProhibitions&&!e.isFormBeingEdited?r("recent-prohibitions"):e._e(),e.isFormBeingEdited?e._e():r("issue-prohibitions"),e.isFormBeingEdited?e._e():r("prohibition-search"),e.isFormBeingEdited?e._e():r("feedback-welcome"),r("div",{staticClass:"card-footer bg-transparent border-0 text-muted small"},[e._v("Version: "+e._s(e.getAppVersion))])],1)])},m=[],f=i("5530"),_=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},p=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"alert alert-warning w-100 pt-1 pb-1 small",attrs:{role:"alert"}},[i("strong",[e._v("Currently Offline -")]),e._v(" you can enter, save and print prohibitions, but lookups won't work ")])}],b={name:"OffineBanner"},v=b,h=i("2877"),g=Object(h["a"])(v,_,p,!1,null,null,null),y=g.exports,O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card-deck"},e._l(e.allForms,(function(e){return i("prohibition-card",{key:e.short_name,attrs:{form:e}})})),1)},j=[],C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card border-light bg-secondary"},[i("div",{staticClass:"card-header text-white text-left font-weight-bold small pl-3 pt-1 pb-1 bg-primary"},[e._v(" "+e._s(e.form.full_name)+" ")]),i("div",{staticClass:"card-body bg-light"},[i("p",{staticClass:"card-text text-dark"},[e._v(e._s(e.form.description))]),i("p",{staticClass:"card-text"},[i("small",{staticClass:"text-muted"},[e._v(" Prohibition IDs available: "+e._s(e.getMinimumUniqueIdsOnHandByType(e.form.short_name))+" ")])]),i("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:!e.isFormAvailable},on:{click:e.viewForm}},[e._v(" View "+e._s(e.form.short_name)+" Form ")])])])},w=[],x={name:"IssueProhibitions",props:{form:{}},methods:{viewForm:function(){this.$store.dispatch("setNewFormToEdit",this.form.short_name)}},computed:Object(f["a"])(Object(f["a"])({},Object(c["c"])(["getMinimumUniqueIdsOnHandByType"])),{},{isFormAvailable:function(){return this.getMinimumUniqueIdsOnHandByType(this.form.short_name)>0}})},A=x,F=Object(h["a"])(A,C,w,!1,null,null,null),S=F.exports,P={name:"IssueProhibitions",data:function(){return{selected_form:{short_name:null,full_name:null}}},methods:{serveForm:function(){this.$store.commit("setFormToServe",this.selected_form)}},computed:{allForms:function(){return this.$store.getters.getAllAvailableForms}},components:{ProhibitionCard:S}},T=P,k=Object(h["a"])(T,O,j,!1,null,"0f8da09c",null),D=k.exports,V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-container",{attrs:{title:"Notice of 12 Hour Licence Suspension"}},[i("form-step",{attrs:{step_number:1}},[i("drivers-information-card"),i("vehicle-information-card"),i("return-of-licence-card"),i("vehicle-impoundment-card"),i("prohibition-information-card"),i("officer-details-card")],1),i("form-step",{attrs:{step_number:2}},[i("drivers-information-card",{attrs:{"is-read-only":!0}}),i("vehicle-information-card",{attrs:{"is-read-only":!0}}),i("return-of-licence-card",{attrs:{"is-read-only":!0}}),i("vehicle-impoundment-card",{attrs:{"is-read-only":!0}}),i("prohibition-information-card",{attrs:{"is-read-only":!0}}),i("officer-details-card",{attrs:{"is-read-only":!0}}),i("form-card",{attrs:{title:"Print and Serve",border_class:"border-primary"}},[i("p",[e._v("You've entered sufficient information to print and serve the 12 hour suspension.")]),i("p",[e._v("Once you click the download button below:")]),i("ul",[i("li",[e._v("a prohibition document will be created to serve the driver;")]),i("li",[e._v("if the vehicle is being impounded, an additional document will be created for the impound lot operator, and;")]),i("li",[e._v("if the document is printed successfully, the fields entered will be locked from further editing.")])]),i("div",{staticClass:"w-100 text-right"},[i("button",{staticClass:"btn btn-success m-1",on:{click:function(t){return e.saveAndPrint(e.getPDFTemplateFileName)}}},[e._v("Download PDF")])])])],1),i("print-confirmation-modal",{attrs:{id:"printConfirmationModal",title:"printConfirmation"}})],1)},N=[],I=(i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card w-100 mt-3 mb-3 border-primary"},[i("div",{staticClass:"card-header text-white bg-secondary pt-2 pb-0"},[i("h4",[e._v(e._s(e.title))])]),i("div",{staticClass:"card-header mt-0 mb-0 pt-2 pb-0 text-dark"},[i("p",{staticClass:"text-right pb-0 mb-2"},[i("span",{staticClass:"prohibition_number"},[e._v(e._s(e.getCurrentlyEditedProhibitionNumber)+" ")]),i("b-icon-question-circle")],1)]),e._t("default")],2)}),R=[],E={name:"FormContainer",props:{title:String},computed:Object(f["a"])({},Object(c["c"])(["getCurrentlyEditedProhibitionNumber"]))},L=E,q=Object(h["a"])(L,I,R,!1,null,null,null),B=q.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isDisplayStep?i("div",[e._t("default"),i("div",{staticClass:"card-body mt-0 pt-0"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6 text-left"},[e.isPreviousButtonDisabled?e._e():i("a",{staticClass:"btn btn-success",attrs:{href:"#"},on:{click:e.previousStep}},[i("b-icon-arrow-left"),e._v(" "+e._s(e.previousStepLabel)+" ")],1)]),i("div",{staticClass:"col-6 text-right"},[e.isNextButtonDisabled?e._e():i("a",{staticClass:"btn btn-success",attrs:{href:"#"},on:{click:e.nextStep}},[e._v(" "+e._s(e.nextStepLabel)+" "),i("b-icon-arrow-right")],1)])])])],2):e._e()},U=[],$=(i("a9e3"),{name:"FormStep",props:{step_number:Number},methods:Object(f["a"])({},Object(c["d"])(["nextStep","previousStep"])),computed:Object(f["a"])(Object(f["a"])({},Object(c["c"])(["getFormSteps","getFormCurrentStep","isPreviousButtonDisabled","isNextButtonDisabled"])),{},{isDisplayStep:function(){return this.getFormCurrentStep===this.step_number},previousStepLabel:function(){return this.getFormSteps[this.step_number-2]},nextStepLabel:function(){return this.getFormSteps[this.step_number]}})}),Y=$,J=Object(h["a"])(Y,M,U,!1,null,null,null),H=J.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card-body text-dark text-left"},[i("div",{staticClass:"card"},[e.title?i("div",{staticClass:"card-header lightgray text-dark font-weight-bold pt-2 pb-2"},[i("div",{staticClass:"container p-0 m-0"},[i("div",{staticClass:"row p-0 mt-0 mb-0"},[i("div",{staticClass:"col-12 pt-1"},[e._v(e._s(e.title))])])])]):e._e(),i("div",{staticClass:"card-body lightgray"},[e._t("default")],2)])])},W=[],G={name:"FormCard",props:{title:String}},X=G,K=Object(h["a"])(X,z,W,!1,null,null,null),Q=K.exports,Z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-row pl-2"},[e._t("default")],2)},ee=[],te={name:"FormRow"},ie=te,re=Object(h["a"])(ie,Z,ee,!1,null,null,null),se=re.exports,oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("div",{staticClass:"form-group",class:e.fg_class},[i("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[e.show_label?i("label",{staticClass:"small",attrs:{for:e.id}},[e._t("default"),e.isShowOptional?i("span",{staticClass:"text-muted"},[e._v(" (optional)")]):e._e()],2):e._e(),i("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",id:e.id,disabled:e.disabled,placeholder:e.placeholder},domProps:{value:e.getAttributeValue(e.id)},on:{input:e.updateFormField}}),i("div",{staticClass:"small text-danger"},[e._v(e._s(r[0]))])]}}],null,!0)})],1):e._e()},ae=[],ne=(i("caad"),i("2532"),{name:"FieldCommon",props:{id:String,disabled:{type:Boolean,default:!1},show_label:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},fg_class:String,display_validation_errors:Boolean,rules:String,errors:Array()}}),le=ne,de=Object(h["a"])(le,r,s,!1,null,null,null),ce=de.exports,ue={name:"TextField",mixins:[ce],props:{placeholder:String},computed:Object(f["a"])(Object(f["a"])({},Object(c["c"])(["getAttributeValue"])),{},{isShowOptional:function(){return!this.rules||!this.rules.includes("required")}}),methods:Object(f["a"])({},Object(c["d"])(["updateFormField"]))},me=ue,fe=Object(h["a"])(me,oe,ae,!1,null,null,null),_e=fe.exports,pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("div",{staticClass:"form-group",class:e.fg_class},[i("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,s=t.required;return[e.show_label?i("label",{staticClass:"small",attrs:{for:e.id}},[e._t("default"),s?i("span",{staticClass:"text-danger"},[e._v(" *")]):e._e()],2):e._e(),i("select",{staticClass:"form-control form-control-sm",attrs:{disabled:e.disabled,id:e.id},on:{input:e.updateFormField}},e._l(e.getArrayOfProvinces,(function(t){return i("option",{key:t.objectCd,domProps:{selected:t.objectCd===e.getAttributeValue(e.id)}},[e._v(" "+e._s(t.objectCd)+" ")])})),0),i("div",{staticClass:"small text-danger"},[e._v(e._s(r[0]))])]}}],null,!0)})],1):e._e()},be=[],ve={name:"ProvinceField",mixins:[ce],mounted:function(){this.$store.commit("updateFormField",{target:{id:this.id,value:"BC"}})},computed:Object(f["a"])({},Object(c["c"])(["getArrayOfProvinces","getAttributeValue"])),methods:Object(f["a"])({},Object(c["d"])(["updateFormField"]))},he=ve,ge=Object(h["a"])(he,pe,be,!1,null,null,null),ye=ge.exports,Oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,s=t.required;return[e.show_label?i("label",{staticClass:"small",attrs:{for:e.id}},[e._t("default"),s?i("span",{staticClass:"text-danger"},[e._v(" *")]):e._e()],2):e._e(),i("div",{staticClass:"input-group mb-3"},[i("input",{staticClass:"form-control form-control-sm",attrs:{disabled:e.disabled,type:"text",id:e.id,placeholder:"Driver's Licence Number"},domProps:{value:e.getAttributeValue(e.id)},on:{input:e.updateFormField}}),e.isLicenceJurisdictionBC?i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn-sm btn-primary text-white",attrs:{disabled:e.disabled},on:{click:e.triggerDriversLookup}},[e._v("Driver's Lookup "),e.display_spinner?i("b-spinner",{attrs:{small:"",label:"Loading..."}}):e._e()],1)]):e._e()]),i("div",{staticClass:"small text-danger"},[e._v(e._s(r[0]))])]}}],null,!0)})],1):e._e()},je=[],Ce={name:"DriversLicenceNumber",mixins:[ce],data:function(){return{display_spinner:!1}},computed:Object(f["a"])({icbcPayload:function(){return{dlNumber:this.getAttributeValue(this.id),formIndex:this.getCurrentlyEditedProhibitionIndex}}},Object(c["c"])(["getCurrentlyEditedProhibitionIndex","getAttributeValue","isLicenceJurisdictionBC"])),methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(c["d"])(["updateFormField"])),Object(c["b"])(["populateDriversFromICBC"])),{},{triggerDriversLookup:function(){var e=this;console.log("inside triggerDriversLookup()"),this.display_spinner=!0,this.populateDriversFromICBC(this.icbcPayload).then((function(t){console.log("response",t),e.display_spinner=!1})).catch((function(t){console.log("error",t),e.display_spinner=!1}))}})},we=Ce,xe=Object(h["a"])(we,Oe,je,!1,null,"749390c6",null),Ae=xe.exports,Fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("div",{staticClass:"form-group",class:e.fg_class},[i("label",{staticClass:"small",attrs:{for:e.id}},[e._t("default")],2),i("vue-typeahead-bootstrap",{attrs:{value:e.getAttributeValue(e.id),size:"sm",data:e.suggestions,disabled:e.disabled},on:{input:e.typeAheadUpdate}})],1):e._e()},Se=[],Pe=i("d726"),Te={name:"TypeAheadField",mixins:[ce],props:{suggestions:{default:Array}},computed:Object(f["a"])({},Object(c["c"])(["getAttributeValue"])),methods:{typeAheadUpdate:function(e){var t={target:{value:e,id:this.id}};this.$store.commit("updateFormField",t)}},components:{VueTypeaheadBootstrap:Pe["a"]}},ke=Te,De=Object(h["a"])(ke,Fe,Se,!1,null,null,null),Ve=De.exports,Ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:e.form_group_class},[i("label",{staticClass:"small",attrs:{for:e.form_group.id}},[e._v(e._s(e.form_group.label)+" "),e.isFieldRequired?i("span",{staticClass:"text-danger"},[e._v("*")]):e._e()]),i("select",{staticClass:"form-control form-control-sm",class:e.errorClass,attrs:{type:e.form_group.input_type,id:e.form_group.id,placeholder:e.form_group.placeholder},domProps:{value:e.form_group.value},on:{input:e.update}},[i("option",[e._v("Male")]),i("option",[e._v("Female")]),i("option",[e._v("Other")])]),e.fieldHasErrors?i("div",{staticClass:"small text-danger"},[e._v(e._s(e.errorMessage))]):e._e()])},Ie=[],Re={name:"GenderField",mixins:[ce]},Ee=Re,Le=Object(h["a"])(Ee,Ne,Ie,!1,null,null,null),qe=Le.exports,Be=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:e.fg_class},[i("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,s=t.required;return[e.show_label?i("label",{staticClass:"small",attrs:{for:e.id}},[e._t("default"),s?i("span",{staticClass:"text-danger"},[e._v(" *")]):e._e()],2):e._e(),i("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",id:e.id,placeholder:e.placeholder},domProps:{value:e.getAttributeValue(e.id)},on:{input:e.updateFormField}}),i("div",{staticClass:"small text-danger"},[e._v(e._s(r[0]))])]}}],null,!0)})],1)},Me=[],Ue={name:"PhoneField",props:{placeholder:String},mixins:[ce],computed:Object(f["a"])({},Object(c["c"])(["getAttributeValue"])),methods:Object(f["a"])({},Object(c["d"])(["updateFormField"]))},$e=Ue,Ye=Object(h["a"])($e,Be,Me,!1,null,null,null),Je=Ye.exports,He=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("div",{staticClass:"form-group",class:e.fg_class},[i("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,s=t.required;return[i("label",{staticClass:"small",attrs:{for:e.id}},[e._t("default"),s?e._e():i("span",{staticClass:"text-muted"},[e._v(" (optional)")]),e.displayTimeAgoString?i("span",{staticClass:"text-muted"},[e._v(" ("+e._s(e.timeAgoString)+")")]):e._e(),e.displayNotValidWarning?i("span",{staticClass:"text-danger"},[e._v(" (date and/or time not valid)")]):e._e()],2),i("div",{staticClass:"col-xs-10"},[i("div",{staticClass:"input-group mb-3"},[i("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",disabled:e.disabled,placeholder:"YYYYMMDD",id:e.id},domProps:{value:e.dateSegment},on:{input:e.updateDateSegment}}),i("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",disabled:e.disabled,placeholder:"HHMM"},domProps:{value:e.timeSegment},on:{input:e.updateTimeSegment}})]),i("div",{staticClass:"small text-danger ml-1"},[e._v(e._s(r[0]))])])]}}],null,!0)})],1):e._e()},ze=[],We=(i("ac1f"),i("1276"),i("c1df")),Ge=i.n(We),Xe={name:"DateTime",mixins:[ce],data:function(){return{timeAgoString:null,setIntervalID:null}},created:function(){this.timeAgo(),this.setIntervalID=setInterval(this.timeAgo.bind(this),1e3)},destroyed:function(){clearInterval(this.setIntervalID)},methods:Object(f["a"])(Object(f["a"])({},Object(c["d"])(["updateFormField"])),{},{setDateTime:function(e){var t={target:{id:this.id,value:e}};this.$store.commit("updateFormField",t)},timeAgo:function(){this.isValidDate&&(this.timeAgoString=Ge()(this.getAttributeValue(this.id)).fromNow())},updateTimeSegment:function(e){var t=e.target.value;this.setDateTime(this.dateSegment+" "+t)},updateDateSegment:function(e){var t=e.target.value;this.setDateTime(t+" "+this.timeSegment)}}),computed:Object(f["a"])(Object(f["a"])({},Object(c["c"])(["getAttributeValue"])),{},{isValidDate:function(){return Ge()(this.getAttributeValue(this.id)).isValid()},isFutureDate:function(){return Ge()().diff(this.getAttributeValue(this.id),"millisecond")<0},dateSegment:function(){return this.getAttributeValue(this.id).split(" ")[0]},timeSegment:function(){var e=this.getAttributeValue(this.id).split(" ");return e.length>1?e[1]:""},displayNotValidWarning:function(){var e=this.getAttributeValue(this.id).split(" ");return 0!==this.getAttributeValue(this.id).length&&!(8===e[0].length&&4===e[1].length)},displayTimeAgoString:function(){return this.isValidDate&&!this.displayNotValidWarning}})},Ke=Xe,Qe=Object(h["a"])(Ke,He,ze,!1,null,null,null),Ze=Qe.exports,et=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("div",{staticClass:"form-group",class:e.fg_class},[i("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,s=t.required;return[i("label",{staticClass:"small",attrs:{for:e.id}},[e._t("default"),s?i("span",{staticClass:"text-danger"},[e._v(" *")]):e._e(),e.isValidDate?i("span",{staticClass:"text-muted"},[e._v(" ("+e._s(e.timeAgo)+")")]):e._e()],2),i("div",{staticClass:"col-xs-10"},[i("div",{staticClass:"input-group mb-1"},[i("input",{staticClass:"form-control form-control-sm ",attrs:{type:"text",disabled:e.disabled,placeholder:"YYYYMMDD",id:e.id},domProps:{value:e.getAttributeValue(e.id)},on:{input:e.setDateTime}})]),i("div",{staticClass:"small text-danger ml-1"},[e._v(e._s(r[0]))])])]}}],null,!0)})],1):e._e()},tt=[],it={name:"DateField",mixins:[ce],methods:Object(f["a"])(Object(f["a"])({},Object(c["d"])(["updateFormField"])),{},{setDateTime:function(e){var t=e.target.value,i={target:{id:this.id,value:t}};this.$store.commit("updateFormField",i)}}),computed:Object(f["a"])(Object(f["a"])({},Object(c["c"])(["getAttributeValue"])),{},{dateObject:function(){return Ge()(this.getAttributeValue(this.id),"YYYYMMDD",!0)},isValidDate:function(){return this.dateObject.isValid()},timeAgo:function(){return this.isValidDate?this.dateObject.fromNow():null},timeAgoString:function(){return this.timeAgo()+" months ago"}})},rt=it,st=Object(h["a"])(rt,et,tt,!1,null,null,null),ot=st.exports,at=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-group",class:e.fg_class},[i("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,s=t.required;return[e.show_label?i("label",{staticClass:"small",attrs:{for:e.id}},[e._v(" Date of Birth "),s?e._e():i("span",{staticClass:"text-danger"},[e._v(" (optional)")]),e.isValidDate?i("span",{staticClass:"text-muted"},[e._v(" ("+e._s(e.yearsOld)+" yrs)")]):e._e()]):e._e(),i("div",{staticClass:"col-xs-10"},[i("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",disabled:e.disabled,id:e.id,placeholder:"YYYYMMDD"},domProps:{value:e.getAttributeValue(e.id)},on:{input:e.updateDateField}}),i("div",{staticClass:"small text-danger"},[e._v(e._s(r[0]))])])]}}])})],1)},nt=[],lt={name:"DoBField",mixins:[ce],methods:Object(f["a"])(Object(f["a"])({},Object(c["d"])(["updateFormField"])),{},{updateDateField:function(e){var t=e.target.value,i={target:{id:this.id,value:t}};this.$store.commit("updateFormField",i)}}),computed:Object(f["a"])(Object(f["a"])({},Object(c["c"])(["getAttributeValue"])),{},{yearsOld:function(){return Ge()().diff(Ge()(this.getAttributeValue(this.id)),"years")},yearsAgo:function(){return Ge()(this.getAttributeValue(this.id)).fromNow()},isValidDate:function(){return Ge()(this.getAttributeValue(this.id)).isValid()}})},dt=lt,ct=Object(h["a"])(dt,at,nt,!1,null,null,null),ut=ct.exports,mt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("div",{staticClass:"form-group",class:e.fg_class},[i("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,s=t.required;return[e.show_label?i("label",{staticClass:"small",attrs:{for:e.id}},[e._t("default"),s?i("span",{staticClass:"text-danger"},[e._v(" *")]):e._e()],2):e._e(),i("div",{staticClass:"input-group mb-3"},[i("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",id:e.id,placeholder:"Plate"},domProps:{value:e.getAttributeValue(e.id)},on:{input:e.updateFormField}}),e.isPlateJurisdictionBC?i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn-sm btn-primary",on:{click:e.triggerPlateLookup}},[e._v(" ICBC Lookup "),e.display_spinner?i("b-spinner",{attrs:{small:"",label:"Loading..."}}):e._e()],1)]):e._e(),i("div",{staticClass:"small text-danger"},[e._v(e._s(r[0]))])])]}}],null,!0)})],1):e._e()},ft=[],_t={name:"PlateNumber",mixins:[ce],data:function(){return{display_spinner:!1}},computed:Object(f["a"])(Object(f["a"])({},Object(c["c"])(["getAttributeValue","isPlateJurisdictionBC","getCurrentlyEditedProhibitionIndex"])),{},{icbcPayload:function(){return{plateNumber:this.getAttributeValue(this.id),formIndex:this.getCurrentlyEditedProhibitionIndex}}}),methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(c["d"])(["updateFormField"])),Object(c["b"])(["populateFromICBCPlateLookup"])),{},{triggerPlateLookup:function(){var e=this;console.log("inside triggerPlateLookup()"),this.display_spinner=!0,this.populateFromICBCPlateLookup(this.icbcPayload).then((function(t){console.log("response",t),e.display_spinner=!1})).catch((function(t){console.log("error",t),e.display_spinner=!1}))}})},pt=_t,bt=Object(h["a"])(pt,mt,ft,!1,null,"3a23bdd2",null),vt=bt.exports,ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-modal",{attrs:{id:"printConfirmationModal","hide-footer":"","hide-header":""}},[i("div",{staticClass:"d-block text-center"},[i("h3",[e._v("Was the prohibition printed and served to the driver?")]),i("p",{staticClass:"text-muted small"},[e._v(' When you click "Yes" below, RoadSafety and ICBC will be sent a copy of the prohibition and the driver\'s record will be updated. If you click "No", you\'ll be returned to the previous screen and the prohibition will not be sent. ')])]),i("div",{staticClass:"d-flex flex-row justify-content-between"},[i("b-button",{staticClass:"mt-3",attrs:{variant:"danger"},on:{click:e.confirmNotServedToDriver}},[e._v("No, not served")]),i("b-button",{staticClass:"mt-3",attrs:{variant:"success"},on:{click:e.confirmServedToDriver}},[e._v("Yes, served to driver")])],1)])],1)},gt=[],yt={name:"PrintConfirmationModal",methods:Object(f["a"])(Object(f["a"])({},Object(c["d"])(["stopEditingCurrentForm","markFormStatusAsServed","saveFormsToLocalStorage"])),{},{confirmServedToDriver:function(){this.markFormStatusAsServed(),this.saveFormsToLocalStorage(),this.$bvModal.hide("printConfirmationModal"),this.$bvModal.show("SupplementaryModal")},confirmNotServedToDriver:function(){this.$bvModal.hide("printConfirmationModal")}})},Ot=yt,jt=Object(h["a"])(Ot,ht,gt,!1,null,null,null),Ct=jt.exports,wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("div",{staticClass:"form-group",class:e.fg_class},[e.show_label?i("label",{staticClass:"small",attrs:{for:e.id}},[e._t("default")],2):e._e(),e._l(e.options,(function(t){return i("div",{key:t,staticClass:"form-check small"},[i("input",{staticClass:"form-check-input",attrs:{id:e.id,type:"radio",name:e.id,disabled:e.disabled},domProps:{checked:e.getAttributeValue(e.id)===t,value:t},on:{input:e.updateFormField}}),i("label",{staticClass:"form-check-label",attrs:{for:t}},[e._v(e._s(t))])])}))],2):e._e()},xt=[],At={name:"RadioField",mixins:[ce],props:{type:String(),options:null},methods:Object(f["a"])({},Object(c["d"])(["updateFormField"])),computed:Object(f["a"])({},Object(c["c"])(["getAttributeValue"]))},Ft=At,St=Object(h["a"])(Ft,wt,xt,!1,null,null,null),Pt=St.exports,Tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("div",{staticClass:"form-group",class:e.fg_class},[e.show_label?i("label",{staticClass:"small",attrs:{for:e.id}},[e._t("default")],2):e._e(),e._l(e.options,(function(t){return i("div",{key:t,staticClass:"form-check small"},[i("input",{staticClass:"form-check-input",attrs:{id:e.id,type:"checkbox",name:e.id,disabled:e.disabled},domProps:{checked:e.checkBoxStatus(e.id,t),value:t},on:{change:e.updateCheckBox}}),i("label",{staticClass:"form-check-label",attrs:{for:t}},[e._v(e._s(t))])])}))],2):e._e()},kt=[],Dt={name:"CheckField",mixins:[ce],props:{type:String(),options:null},methods:Object(f["a"])({},Object(c["d"])(["updateCheckBox"])),computed:Object(f["a"])({},Object(c["c"])(["checkBoxStatus"]))},Vt=Dt,Nt=Object(h["a"])(Vt,Tt,kt,!1,null,null,null),It=Nt.exports,Rt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shadow-lg p-2 mt-1 m-1"},[e._t("default")],2)},Et=[],Lt={name:"ShadowBox"},qt=Lt,Bt=Object(h["a"])(qt,Rt,Et,!1,null,null,null),Mt=Bt.exports,Ut={name:"FormsCommon",props:{data:{},name:null},data:function(){return{xml_file:null}},computed:Object(f["a"])({},Object(c["c"])(["getArrayOfBCCityNames"])),components:{FormContainer:B,FormStep:H,FormCard:Q,FormRow:se,DobField:ut,TextField:_e,ProvinceField:ye,DriverLicenceNumber:Ae,TypeAheadField:Ve,GenderField:qe,PhoneField:Je,DateTime:Ze,PrintConfirmationModal:Ct,PlateNumber:vt,RadioField:Pt,CheckField:It,DateField:ot,ShadowBox:Mt}},$t=Ut,Yt=Object(h["a"])($t,o,a,!1,null,null,null),Jt=Yt.exports,Ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Driver's Information"}},[e.isReadOnly?e._e():i("div",[i("form-row",[i("jurisdiction-field",{attrs:{id:"drivers_licence_jurisdiction",fg_class:"col-sm-3"}},[e._v("Jurisdiction")]),i("driver-licence-number",{attrs:{id:"drivers_number"}},[e._v("Driver's Licence Number")])],1),i("form-row",[i("text-field",{attrs:{id:"last_name",fg_class:"col-sm-4",placeholder:"Last Name",rules:"required"}},[e._v("Last Name")]),i("text-field",{attrs:{id:"first_name",fg_class:"col-sm-4",placeholder:"First Name",rules:"required"}},[e._v("First Name")]),i("dob-field",{attrs:{id:"dob",fg_class:"col-sm-4",rules:"dob"}},[e._v("Date of Birth")])],1),i("form-row",[i("text-field",{attrs:{id:"address1",fg_class:"col-sm-12",placeholder:"Address",rules:"required"}},[e._v("Address Line 1")])],1),i("form-row",[i("text-field",{attrs:{id:"address2",fg_class:"col-sm-12",placeholder:"Address"}},[e._v("Address Line 2")])],1),i("form-row",[i("type-ahead-field",{attrs:{id:"city",fg_class:"col-sm-6",suggestions:e.getArrayOfBCCityNames,rules:"required"}},[e._v("City")]),i("province-field",{attrs:{disabled:!0,id:"province",fg_class:"col-sm-2"}},[e._v("Province")]),i("text-field",{attrs:{id:"postal",fg_class:"col-sm-4"}},[e._v("Postal")])],1)],1),e.isReadOnly?i("div",[i("read-only-element",{attrs:{id:"drivers_licence_jurisdiction"}},[e._v("Jurisdiction")]),i("read-only-element",{attrs:{id:"drivers_number"}},[e._v("Driver's licence number")]),i("read-only-element",{attrs:{id:"last_name"}},[e._v("Last name")]),i("read-only-element",{attrs:{id:"first_name"}},[e._v("First name")]),i("read-only-element",{attrs:{id:"dob"}},[e._v("Date of birth")]),i("read-only-element",{attrs:{id:"address1"}},[e._v("Address 1")]),i("read-only-element",{attrs:{id:"address2"}},[e._v("Address 2")]),i("read-only-element",{attrs:{id:"city"}},[e._v("City")]),i("read-only-element",{attrs:{id:"province"}},[e._v("Province")]),i("read-only-element",{attrs:{id:"postal"}},[e._v("Postal code")])],1):e._e()])},zt=[],Wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("div",{staticClass:"form-group",class:e.fg_class},[e.show_label?i("label",{staticClass:"small",attrs:{for:e.id}},[e._t("default")],2):e._e(),i("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",id:e.id,disabled:!0,placeholder:"seeking ICBC approval"}})]):e._e()},Gt=[],Xt={name:"WaitForICBCField",mixins:[ce]},Kt=Xt,Qt=Object(h["a"])(Kt,Wt,Gt,!1,null,null,null),Zt=Qt.exports,ei=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("div",{staticClass:"form-group",class:e.fg_class},[i("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,s=t.required;return[e.show_label?i("label",{staticClass:"small",attrs:{for:e.id}},[e._t("default"),s?i("span",{staticClass:"text-danger"},[e._v(" *")]):e._e()],2):e._e(),i("select",{staticClass:"form-control form-control-sm",attrs:{disabled:e.disabled,id:e.id},on:{input:e.updateFormField}},e._l(e.getArrayOfJurisdictions,(function(t){return i("option",{key:t.objectCd,domProps:{selected:t.objectDsc===e.getAttributeValue(e.id)}},[e._v(" "+e._s(t.objectDsc)+" ")])})),0),i("div",{staticClass:"small text-danger"},[e._v(e._s(r[0]))])]}}],null,!0)})],1):e._e()},ti=[],ii={name:"JurisdictionField",mixins:[ce],mounted:function(){this.$store.commit("updateFormField",{target:{id:this.id,value:"British Columbia"}})},computed:Object(f["a"])({},Object(c["c"])(["getArrayOfJurisdictions","getAttributeValue"])),methods:Object(f["a"])({},Object(c["d"])(["updateFormField"]))},ri=ii,si=Object(h["a"])(ri,ei,ti,!1,null,null,null),oi=si.exports,ai=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row m-0 p-0 text-muted"},[i("div",{staticClass:"col-sm-3"},[e._t("default")],2),i("div",{staticClass:"col-sm-7"},[e._v(e._s(e.displayAttributeValue))])])},ni=[],li=i("53ca"),di=(i("a15b"),{name:"ReadOnlyElement",props:{id:String},computed:Object(f["a"])(Object(f["a"])({},Object(c["c"])(["getAttributeValue"])),{},{displayAttributeValue:function(){var e=this.getAttributeValue(this.id);return"object"===Object(li["a"])(e)?0===e.length?"No":e.join(", "):e}})}),ci=di,ui=Object(h["a"])(ci,ai,ni,!1,null,null,null),mi=ui.exports,fi={name:"CardCommon",props:{id:String,isReadOnly:{default:!1}},computed:Object(f["a"])({},Object(c["c"])(["getAttributeValue","getArrayOfBCCityNames"])),components:{FormStep:H,FormCard:Q,FormRow:se,DobField:ut,TextField:_e,ProvinceField:ye,JurisdictionField:oi,DriverLicenceNumber:Ae,TypeAheadField:Ve,GenderField:qe,PhoneField:Je,DateTime:Ze,PlateNumber:vt,RadioField:Pt,CheckField:It,DateField:ot,ShadowBox:Mt,ReadOnlyElement:mi,WaitForIcbcField:Zt}},_i=fi,pi=Object(h["a"])(_i,n,l,!1,null,"53f7f2ce",null),bi=pi.exports,vi={name:"DriversInformationCard",mixins:[bi]},hi=vi,gi=Object(h["a"])(hi,Ht,zt,!1,null,"4c83b903",null),yi=gi.exports,Oi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isReadOnly?e._e():i("div",[i("form-card",{attrs:{title:"Return of driver's licence"}},[i("form-row",[i("radio-field",{attrs:{id:"licence_surrendered",fg_class:"col-sm-12",options:["Yes","No"]}},[e._v("Licence surrendered at roadside?")])],1),e.isLicenceSurrendered?i("form-row",[i("radio-field",{attrs:{id:"return_of_licence",fg_class:"col-sm-12",options:["By mail","Pickup in person"]}},[e._v("How will licence be returned?")])],1):e._e(),e.licencePickupInPerson&&e.isLicenceSurrendered?i("form-row",[i("type-ahead-field",{attrs:{id:"pickup_address",suggestions:e.getArrayOfPickupLocations,fg_class:"col-sm-6"}},[e._v(" Pickup address and city "),i("a",{on:{mouseover:function(t){e.display_tooltip=!0},mouseleave:function(t){e.display_tooltip=!1}}},[i("b-icon-question-circle",{attrs:{text:"pickup locations can be added to this list"}})],1)])],1):e._e(),e.display_tooltip?i("form-row",[i("p",{staticClass:"col-sm-6 text-muted small"},[e._v("Begin typing the address where drivers can pickup their licence. Email "+e._s(e.getRoadSafetyEmailAddress)+" to have pickup addresses added or removed from the list.")])]):e._e()],1)],1),e.isReadOnly?i("div",[i("form-card",{attrs:{title:"Return of driver's licence"}},[i("read-only-element",{attrs:{id:"licence_surrendered"}},[e._v("Licence surrendered")]),i("read-only-element",{attrs:{id:"return_of_licence"}},[e._v("How will licence be returned")]),i("read-only-element",{attrs:{id:"pickup_address"}},[e._v("Pickup Address")])],1)],1):e._e()])},ji=[],Ci={name:"ReturnOfLicenceCard",mixins:[bi],data:function(){return{display_tooltip:!1}},computed:Object(f["a"])(Object(f["a"])({},Object(c["c"])(["getArrayOfPickupLocations","getRoadSafetyEmailAddress"])),{},{licencePickupInPerson:function(){return"Pickup in person"===this.getAttributeValue("return_of_licence")},isLicenceSurrendered:function(){return"Yes"===this.getAttributeValue("licence_surrendered")}}),methods:{toggleToolTip:function(){this.display_tooltip=!0}}},wi=Ci,xi=Object(h["a"])(wi,Oi,ji,!1,null,"94b691ea",null),Ai=xi.exports,Fi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Officer"}},[e.isReadOnly?i("div",{},[i("read-only-element",{attrs:{id:"agency"}},[e._v("Agency")]),i("read-only-element",{attrs:{id:"badge_number"}},[e._v("Badge Number")]),i("read-only-element",{attrs:{id:"officer_name"}},[e._v("Officer name")])],1):e._e(),e.isReadOnly?e._e():i("form-row",[i("text-field",{attrs:{id:"agency",rules:"required",fg_class:"col-sm-2"}},[e._v("Agency")]),i("text-field",{attrs:{id:"badge_number",rules:"required",fg_class:"col-sm-2"}},[e._v("Badge Number")]),i("text-field",{attrs:{id:"officer_name",rules:"required",fg_class:"col-sm-8"}},[e._v("Full Name of Peace Officer Serving Prohibition Notice")])],1)],1)},Si=[],Pi={name:"OfficerDetailsCard",mixins:[bi]},Ti=Pi,ki=Object(h["a"])(Ti,Fi,Si,!1,null,null,null),Di=ki.exports,Vi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Vehicle information"}},[e.isReadOnly?i("div",{},[i("read-only-element",{attrs:{id:"plate_province"}},[e._v("Jurisdiction")]),i("read-only-element",{attrs:{id:"plate_number"}},[e._v("Plate Number")])],1):e._e(),e.isReadOnly?i("div",[i("read-only-element",{attrs:{id:"plate_year"}},[e._v("Plate Year")]),i("read-only-element",{attrs:{id:"plate_val_tag"}},[e._v("Plate Val Tag")]),i("read-only-element",{attrs:{id:"registration_number"}},[e._v("Registration Number")]),i("read-only-element",{attrs:{id:"vehicle_year"}},[e._v("Vehicle Year")]),i("read-only-element",{attrs:{id:"vehicle_make"}},[e._v("Vehicle Make")]),i("read-only-element",{attrs:{id:"vehicle_model"}},[e._v("Vehicle Model")]),i("read-only-element",{attrs:{id:"vehicle_color"}},[e._v("Vehicle Colour")]),i("read-only-element",{attrs:{id:"vin_number"}},[e._v("VIN Number")]),i("read-only-element",{attrs:{id:"puj_code"}},[e._v("PUJ Code")]),i("read-only-element",{attrs:{id:"nsc_number"}},[e._v("NSC Number")])],1):e._e(),e.isReadOnly?e._e():i("form-row",[i("jurisdiction-field",{attrs:{id:"plate_province",fg_class:"col-sm-3"}},[e._v("Jurisdiction")]),i("plate-number",{attrs:{id:"plate_number",fg_class:"col-sm-6"}},[e._v("Plate Number")])],1),e.isReadOnly?e._e():i("form-row",[i("wait-for-icbc-field",{attrs:{id:"plate_year",fg_class:"col-sm-4"}},[e._v("Plate Year")]),i("wait-for-icbc-field",{attrs:{id:"plate_val_tag",input_type:"number",fg_class:"col-sm-4"}},[e._v("Plate Val Tag")]),i("wait-for-icbc-field",{attrs:{id:"registration_number",fg_class:"col-sm-4"}},[e._v("Registration Number")])],1),e.isReadOnly?e._e():i("form-row",[i("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleYears,id:"vehicle_year",fg_class:"col-sm-3"}},[e._v("Vehicle Year")]),i("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleMakes,id:"vehicle_make",input_type:"number",fg_class:"col-sm-3"}},[e._v("Vehicle Make")]),i("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleModels,id:"vehicle_model",fg_class:"col-sm-3"}},[e._v("Vehicle Model")]),i("type-ahead-field",{attrs:{suggestions:e.getArrayOfCommonCarColors,id:"vehicle_color",fg_class:"col-sm-3"}},[e._v("Vehicle Colour")])],1),e.isReadOnly?e._e():i("form-row",[i("wait-for-icbc-field",{attrs:{id:"vin_number",fg_class:"col-sm-12"}},[e._v("VIN Number")])],1),e.isReadOnly?e._e():i("form-row",[i("text-field",{attrs:{id:"puj_code",fg_class:"col-sm-5"}},[e._v("PUJ Code")]),i("text-field",{attrs:{id:"nsc_number",fg_class:"col-sm-7"}},[e._v("NSC Number")])],1)],1)},Ni=[],Ii={name:"VehicleInformationCard",mixins:[bi],computed:Object(f["a"])({},Object(c["c"])(["getArrayOfCommonCarColors","getArrayOfVehicleYears","getArrayOfVehicleMakes","getArrayOfVehicleModels"]))},Ri=Ii,Ei=Object(h["a"])(Ri,Vi,Ni,!1,null,"1246b1a0",null),Li=Ei.exports,qi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Prohibition"}},[e.isReadOnly?e._e():i("div",[i("form-row",[i("text-field",{attrs:{id:"offence_address",fg_class:"col-sm-8"}},[e._v("Intersection or Address of Offence")]),i("type-ahead-field",{attrs:{id:"offence_city",fg_class:"col-sm-4",suggestions:e.getArrayOfBCCityNames,rules:"required"}},[e._v("City")])],1),i("form-row",[i("text-field",{attrs:{id:"file_number",fg_class:"col-sm-3",rules:"required"}},[e._v("Agency File Number")]),i("date-time",{attrs:{id:"prohibition_start_time",fg_class:"col-sm-9",rules:"required|notFutureDt"}},[e._v(" Time of driving, care or control ")])],1)],1),e.isReadOnly?i("div",[i("read-only-element",{attrs:{id:"prohibition_type"}},[e._v("Prohibition Type")]),i("read-only-element",{attrs:{id:"offence_address"}},[e._v("Location of offence")]),i("read-only-element",{attrs:{id:"offence_city"}},[e._v("Offence City")]),i("read-only-element",{attrs:{id:"file_number"}},[e._v("File number")]),i("read-only-element",{attrs:{id:"prohibition_start_time"}},[e._v("Time of driving, care or control")])],1):e._e()])},Bi=[],Mi={name:"ProhibitionInformationCard",mixins:[bi]},Ui=Mi,$i=Object(h["a"])(Ui,qi,Bi,!1,null,"bbea233e",null),Yi=$i.exports,Ji=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Vehicle Disposition"}},[e.isReadOnly?e._e():i("div",[i("form-row",[i("radio-field",{attrs:{id:"vehicle_towed",fg_class:"col-sm-6",options:["Yes","No"]}},[e._v("Vehicle Towed?")])],1),i("form-row",[i("radio-field",{attrs:{id:"reason_for_not_towing",fg_class:"col-sm-6",options:["Released to other driver","Left at roadside","Private tow","Seized for investigation"],visible:e.showVehicleNotImpounded}},[e._v("Reason for not towing?")])],1),e.isReleasedToOtherDriver?i("form-row",[i("text-field",{attrs:{id:"vehicle_released_to",visible:e.showVehicleNotImpounded,fg_class:"col-sm-6"}},[e._v(" Vehicle Released To")]),i("date-time",{attrs:{id:"datetime_released",visible:e.showVehicleNotImpounded,fg_class:"col-sm-6"}},[e._v(" Date and Time Released")])],1):e._e(),i("form-row",[i("radio-field",{attrs:{id:"location_of_keys",visible:e.showVehicleImpounded,fg_class:"col-sm-6",options:["With vehicle","With driver"]}},[e._v("Location of Keys?")])],1),i("form-row",[i("type-ahead-field",{attrs:{id:"impound_lot_operator",fg_class:"col-sm-12",visible:e.showVehicleImpounded,suggestions:e.getArrayOfImpoundLotOperators}},[e._v("Tow Operator (name, lot address, city & phone)")])],1)],1),e.isReadOnly?i("div",[i("read-only-element",{attrs:{id:"vehicle_towed"}},[e._v("Vehicle Impounded")]),i("read-only-element",{attrs:{id:"vehicle_released_to"}},[e._v("Vehicle released to")]),i("read-only-element",{attrs:{id:"datetime_released"}},[e._v("Datetime released")]),i("read-only-element",{attrs:{id:"location_of_keys"}},[e._v("Location of keys")]),i("read-only-element",{attrs:{id:"impound_lot_operator"}},[e._v("Impound lot operator")])],1):e._e()])},Hi=[],zi={name:"VehicleImpoundmentCard",mixins:[bi],computed:Object(f["a"])(Object(f["a"])({},Object(c["c"])(["getAttributeValue","getArrayOfImpoundLotOperators"])),{},{showVehicleImpounded:function(){return"Yes"===this.getAttributeValue("vehicle_towed")},showVehicleNotImpounded:function(){return"No"===this.getAttributeValue("vehicle_towed")},isReleasedToOtherDriver:function(){return"Released to other driver"===this.getAttributeValue("reason_for_not_towing")}})},Wi=zi,Gi=Object(h["a"])(Wi,Ji,Hi,!1,null,"1e625ec8",null),Xi=Gi.exports,Ki={name:"TwelveTwentyFour",mixins:[Jt],components:{ProhibitionInformationCard:Yi,DriversInformationCard:yi,OfficerDetailsCard:Di,ReturnOfLicenceCard:Ai,VehicleInformationCard:Li,VehicleImpoundmentCard:Xi},computed:Object(f["a"])({},Object(c["c"])(["getXdfFileNameString","getPDFTemplateFileName","getXFDF","getAttributeValue"])),methods:Object(f["a"])(Object(f["a"])({},Object(c["d"])(["saveFormsToLocalStorage","stopEditingCurrentForm"])),{},{saveAndPrint:function(e){console.log("inside saveAndPrint() "+e);var t=this.getXFDF(e);console.log("success generateXFDF()",t);var i=window.URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download=this.getXdfFileNameString,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(i),this.saveFormsToLocalStorage(),this.$bvModal.show("printConfirmationModal")}})},Qi=Ki,Zi=(i("1acf"),Object(h["a"])(Qi,V,N,!1,null,"0712c643",null)),er=Zi.exports,tr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-container",{attrs:{title:"Notice of 24 Hour Licence Prohibition"}},[i("form-step",{attrs:{step_number:1}},[i("drivers-information-card"),i("vehicle-information-card"),i("vehicle-owner-card"),i("vehicle-impoundment-card"),i("return-of-licence-card"),i("prohibition-information-card"),i("reasonable-grounds-card"),e.isPrescribedTestUsed&&e.isProhibitionTypeAlcohol?i("test-administered-alcohol-card"):e._e(),e.isPrescribedTestUsed&&e.isProhibitionTypeDrugs?i("test-administered-drugs-card"):e._e(),i("officer-details-card")],1),i("form-step",{attrs:{step_number:2}},[i("drivers-information-card",{attrs:{"is-read-only":!0}}),i("vehicle-information-card",{attrs:{"is-read-only":!0}}),i("vehicle-owner-card",{attrs:{"is-read-only":!0}}),i("vehicle-impoundment-card",{attrs:{"is-read-only":!0}}),i("return-of-licence-card",{attrs:{"is-read-only":!0}}),i("prohibition-information-card",{attrs:{"is-read-only":!0}}),i("reasonable-grounds-card",{attrs:{"is-read-only":!0}}),e.isPrescribedTestUsed&&e.isProhibitionTypeAlcohol?i("test-administered-alcohol-card",{attrs:{"is-read-only":!0}}):e._e(),e.isPrescribedTestUsed&&e.isProhibitionTypeDrugs?i("test-administered-drugs-card",{attrs:{"is-read-only":!0}}):e._e(),i("officer-details-card",{attrs:{"is-read-only":!0}}),i("form-card",{attrs:{title:"Print and Serve",border_class:"border-primary"}},[i("p",[e._v("You've entered sufficient information to print and serve the 24 hour prohibition.")]),i("p",[e._v("Once you click the download button below:")]),i("ul",[i("li",[e._v("a prohibition document will be created to serve the driver;")]),i("li",[e._v("if the vehicle is being impounded, an additional document will be created for the impound lot operator, and;")]),i("li",[e._v("if the document is printed successfully, the fields entered will be locked from further editing.")])]),i("div",{staticClass:"w-100 text-right"},[i("button",{staticClass:"btn btn-success m-1",on:{click:function(t){return e.saveAndPrint(e.getPDFTemplateFileName)}}},[e._v("Download PDF")])])])],1),i("print-confirmation-modal",{attrs:{id:"printConfirmationModal",title:"printConfirmation"}}),i("supplementary-modal",{attrs:{id:"SupplementaryModal",title:"SupplementaryModal"}})],1)},ir=[],rr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Vehicle information"}},[e.isReadOnly?i("div",[i("read-only-element",{attrs:{id:"plate_province"}},[e._v("Jurisdiction")]),i("read-only-element",{attrs:{id:"plate_number"}},[e._v("Plate Number")]),i("read-only-element",{attrs:{id:"plate_year"}},[e._v("Plate Year")]),i("read-only-element",{attrs:{id:"plate_val_tag"}},[e._v("Plate Val Tag")]),i("read-only-element",{attrs:{id:"registration_number"}},[e._v("Registration Number")]),i("read-only-element",{attrs:{id:"vehicle_year"}},[e._v("Vehicle Year")]),i("read-only-element",{attrs:{id:"vehicle_make"}},[e._v("Vehicle Make")]),i("read-only-element",{attrs:{id:"vehicle_model"}},[e._v("Vehicle Model")]),i("read-only-element",{attrs:{id:"vehicle_color"}},[e._v("Vehicle Colour")]),i("read-only-element",{attrs:{id:"vin_number"}},[e._v("VIN Number")]),i("read-only-element",{attrs:{id:"puj_code"}},[e._v("PUJ Code")]),i("read-only-element",{attrs:{id:"nsc_number"}},[e._v("NSC Number")])],1):e._e(),e.isReadOnly?e._e():i("form-row",[i("jurisdiction-field",{attrs:{id:"plate_province",fg_class:"col-sm-3"}},[e._v("Jurisdiction")]),i("plate-number",{attrs:{id:"plate_number",fg_class:"col-sm-6"}},[e._v("Plate Number")])],1),e.isReadOnly?e._e():i("form-row",[i("text-field",{attrs:{id:"plate_year",fg_class:"col-sm-4"}},[e._v("Plate Year")]),i("text-field",{attrs:{id:"plate_val_tag",input_type:"number",fg_class:"col-sm-4"}},[e._v("Plate Val Tag")]),i("text-field",{attrs:{id:"registration_number",fg_class:"col-sm-4"}},[e._v("Registration Number")])],1),e.isReadOnly?e._e():i("form-row",[i("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleYears,id:"vehicle_year",fg_class:"col-sm-3"}},[e._v("Vehicle Year")]),i("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleMakes,id:"vehicle_make",input_type:"number",fg_class:"col-sm-3"}},[e._v("Vehicle Make")]),i("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleModels,id:"vehicle_model",fg_class:"col-sm-3"}},[e._v("Vehicle Model")]),i("type-ahead-field",{attrs:{suggestions:e.getArrayOfCommonCarColors,id:"vehicle_color",fg_class:"col-sm-3"}},[e._v("Vehicle Colour")])],1),e.isReadOnly?e._e():i("form-row",[i("text-field",{attrs:{id:"vin_number",fg_class:"col-sm-12"}},[e._v("VIN Number")])],1),e.isReadOnly?e._e():i("form-row",[i("text-field",{attrs:{id:"puj_code",fg_class:"col-sm-5"}},[e._v("PUJ Code")]),i("text-field",{attrs:{id:"nsc_number",fg_class:"col-sm-7"}},[e._v("NSC Number")])],1)],1)},sr=[],or={name:"VehicleInformationCard",mixins:[bi],computed:Object(f["a"])({},Object(c["c"])(["getArrayOfCommonCarColors","getArrayOfVehicleYears","getArrayOfVehicleMakes","getArrayOfVehicleModels"]))},ar=or,nr=Object(h["a"])(ar,rr,sr,!1,null,"636e1193",null),lr=nr.exports,dr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Vehicle Impoundment or Disposition"}},[e.isReadOnly?e._e():i("div",[i("form-row",[i("radio-field",{attrs:{id:"vehicle_impounded",fg_class:"col-sm-6",options:["Yes","No"]}},[e._v("Vehicle Impounded?")])],1),i("form-row",[i("radio-field",{attrs:{id:"reason_for_not_impounding",fg_class:"col-sm-6",options:["Released to other driver","Left at roadside","Private tow","Seized for investigation"],visible:e.showVehicleNotImpounded}},[e._v("Reason for not impounding?")])],1),e.isReleasedToOtherDriver?i("form-row",[i("text-field",{attrs:{id:"vehicle_released_to",visible:e.showVehicleNotImpounded,fg_class:"col-sm-6"}},[e._v(" Vehicle Released To")]),i("date-time",{attrs:{id:"datetime_released",visible:e.showVehicleNotImpounded,fg_class:"col-sm-6"}},[e._v(" Date and Time Released")])],1):e._e(),i("form-row",[i("radio-field",{attrs:{id:"location_of_keys",visible:e.showVehicleImpounded,fg_class:"col-sm-6",options:["With vehicle","With driver"]}},[e._v("Location of Keys?")])],1),i("form-row",[i("type-ahead-field",{attrs:{id:"impound_lot_operator",fg_class:"col-sm-12",visible:e.showVehicleImpounded,suggestions:e.getArrayOfImpoundLotOperators}},[e._v("Impound Lot Operator (name, lot address, city & phone)")])],1)],1),e.isReadOnly?i("div",[i("read-only-element",{attrs:{id:"vehicle_impounded"}},[e._v("Vehicle Impounded")]),i("read-only-element",{attrs:{id:"reason_for_not_impounding"}},[e._v("Reason for not impounding")]),i("read-only-element",{attrs:{id:"vehicle_released_to"}},[e._v("Vehicle released to")]),i("read-only-element",{attrs:{id:"datetime_released"}},[e._v("Datetime released")]),i("read-only-element",{attrs:{id:"location_of_keys"}},[e._v("Location of keys")]),i("read-only-element",{attrs:{id:"impound_lot_operator"}},[e._v("Impound lot operator")])],1):e._e()])},cr=[],ur={name:"VehicleImpoundmentCard",mixins:[bi],computed:Object(f["a"])(Object(f["a"])({},Object(c["c"])(["getAttributeValue","getArrayOfImpoundLotOperators"])),{},{showVehicleImpounded:function(){return"Yes"===this.getAttributeValue("vehicle_impounded")},showVehicleNotImpounded:function(){return"No"===this.getAttributeValue("vehicle_impounded")},isReleasedToOtherDriver:function(){return"Released to other driver"===this.getAttributeValue("reason_for_not_impounding")}})},mr=ur,fr=Object(h["a"])(mr,dr,cr,!1,null,"601f3608",null),_r=fr.exports,pr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Driver's Information"}},[e.isReadOnly?e._e():i("div",[i("form-row",[i("jurisdiction-field",{attrs:{id:"drivers_licence_jurisdiction",fg_class:"col-sm-3"}},[e._v("Jurisdiction")]),i("driver-licence-number",{attrs:{id:"drivers_number"}},[e._v("Driver's Licence Number")])],1),i("form-row",[i("text-field",{attrs:{id:"last_name",fg_class:"col-sm-4",placeholder:"Last Name",rules:"required"}},[e._v("Last Name")]),i("text-field",{attrs:{id:"first_name",fg_class:"col-sm-4",placeholder:"First Name",rules:"required"}},[e._v("First Name")]),i("dob-field",{attrs:{id:"dob",fg_class:"col-sm-4",rules:"dob"}},[e._v("Date of Birth")])],1),i("form-row",[i("text-field",{attrs:{id:"address1",fg_class:"col-sm-12",placeholder:"Address",rules:"required"}},[e._v("Address Line 1")])],1),i("form-row",[i("text-field",{attrs:{id:"address2",fg_class:"col-sm-12",placeholder:"Address"}},[e._v("Address Line 2")])],1),i("form-row",[i("type-ahead-field",{attrs:{id:"city",fg_class:"col-sm-6",suggestions:e.getArrayOfBCCityNames,rules:"required"}},[e._v("City")]),i("province-field",{attrs:{id:"province",fg_class:"col-sm-2"}},[e._v("Province")]),i("text-field",{attrs:{id:"postal",fg_class:"col-sm-4"}},[e._v("Postal")])],1)],1),e.isReadOnly?i("div",[i("read-only-element",{attrs:{id:"drivers_licence_jurisdiction"}},[e._v("Jurisdiction")]),i("read-only-element",{attrs:{id:"drivers_number"}},[e._v("Driver's licence number")]),i("read-only-element",{attrs:{id:"last_name"}},[e._v("Last name")]),i("read-only-element",{attrs:{id:"first_name"}},[e._v("First name")]),i("read-only-element",{attrs:{id:"dob"}},[e._v("Date of birth")]),i("read-only-element",{attrs:{id:"address1"}},[e._v("Address 1")]),i("read-only-element",{attrs:{id:"address2"}},[e._v("Address 2")]),i("read-only-element",{attrs:{id:"city"}},[e._v("City")]),i("read-only-element",{attrs:{id:"province"}},[e._v("Province")]),i("read-only-element",{attrs:{id:"postal"}},[e._v("Postal code")])],1):e._e()])},br=[],vr={name:"DriversInformationCard",mixins:[bi]},hr=vr,gr=Object(h["a"])(hr,pr,br,!1,null,"5b2807f4",null),yr=gr.exports,Or=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Prohibition"}},[e.isReadOnly?e._e():i("div",[i("form-row",[i("radio-field",{attrs:{id:"prohibition_type",fg_class:"col-sm-6",rules:"required",options:["Alcohol 215(2)","Drugs 215(3)"]}},[e._v("Type of Prohibition (select one)")])],1),i("form-row",[i("text-field",{attrs:{id:"offence_address",fg_class:"col-sm-8"}},[e._v("Intersection or Address of Offence")]),i("type-ahead-field",{attrs:{id:"offence_city",fg_class:"col-sm-4",suggestions:e.getArrayOfBCCityNames,rules:"required"}},[e._v("City")])],1),i("form-row",[i("text-field",{attrs:{id:"file_number",fg_class:"col-sm-3",rules:"required"}},[e._v("Agency File Number")]),i("date-time",{attrs:{id:"prohibition_start_time",fg_class:"col-sm-9",rules:"required|notFutureDt"}},[e._v(" Time of driving, care or control ")])],1)],1),e.isReadOnly?i("div",[i("read-only-element",{attrs:{id:"prohibition_type"}},[e._v("Prohibition Type")]),i("read-only-element",{attrs:{id:"offence_address"}},[e._v("Location of offence")]),i("read-only-element",{attrs:{id:"offence_city"}},[e._v("Offence City")]),i("read-only-element",{attrs:{id:"file_number"}},[e._v("File number")]),i("read-only-element",{attrs:{id:"prohibition_start_time"}},[e._v("Time of driving, care or control")])],1):e._e()])},jr=[],Cr={name:"ProhibitionInformationCard",mixins:[bi]},wr=Cr,xr=Object(h["a"])(wr,Or,jr,!1,null,"6195adcb",null),Ar=xr.exports,Fr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Reasonable Grounds"}},[e.isReadOnly?e._e():i("div",[e.isProhibitionTypeSelected?i("div",[i("form-row",[i("check-field",{attrs:{id:"operating_grounds",fg_class:"col-sm-12",rules:"required",options:["Witnessed by officer","Admission by driver","Independent witness","Video surveillance","Other"]}},[e._v(" The driver was operating a motor vehicle or had care and control of a motor vehicle for the purposes of MVA section 215(1) based on (select at least one): ")])],1),e.isOperatingGroundsOther?i("form-row",[i("text-field",{attrs:{id:"operating_ground_other",fg_class:"col-sm-12"}},[e._v("Other")])],1):e._e(),i("form-row",[i("radio-field",{attrs:{id:"prescribed_device",fg_class:"col-sm-12",options:["Yes","No, opinion formed the driver was affected by alcohol and/or drugs","No, refused by driver"]}},[e._v("Was a prescribed test used to form reasonable grounds? ")])],1)],1):e._e()]),e.isReadOnly?i("div",[i("read-only-element",{attrs:{id:"operating_grounds"}},[e._v("Grounds")]),i("read-only-element",{attrs:{id:"operating_ground_other"}},[e._v("Grounds other")]),i("read-only-element",{attrs:{id:"prescribed_device"}},[e._v("Prescribed device")])],1):e._e()])},Sr=[],Pr={name:"ReasonableGroundsCard",mixins:[bi],computed:{isProhibitionTypeSelected:function(){return this.getAttributeValue("prohibition_type").length>0},isOperatingGroundsOther:function(){return"Other"===this.getAttributeValue("operating_grounds")}}},Tr=Pr,kr=Object(h["a"])(Tr,Fr,Sr,!1,null,"cf6e947c",null),Dr=kr.exports,Vr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Test Administered - Alcohol 215(2)"}},[e.isReadOnly?e._e():i("div",[i("shadow-box",[i("form-row",[i("check-field",{attrs:{show_label:!1,id:"test_administered_asd",fg_class:"col-sm-6",options:["Alco-Sensor FST (ASD)"]}},[e._v("Test Administered")]),e.isTestAdministeredASD?i("date-field",{attrs:{id:"asd_expiry_date",fg_class:"col-sm-6",rules:"notExpired"}},[e._v("ASD expiry date")]):e._e()],1),i("form-row",[e.isTestAdministeredASD?i("radio-field",{attrs:{id:"result_alcohol",fg_class:"col-sm-6",options:["51-99 mg%","Over 99 mg%"]}},[e._v("Result")]):e._e(),i("date-time",{attrs:{id:"time_asd_test",rules:"required|notFutureDt",fg_class:"col-sm-6"}},[e._v("Time of test")])],1)],1),i("shadow-box",[i("form-row",[i("check-field",{attrs:{show_label:!1,id:"test_administered_instrument",fg_class:"col-sm-6",options:["Approved Instrument"]}})],1),i("form-row",[e.isTestAdministeredApprovedInstrument?i("check-field",{attrs:{id:"result_alcohol_approved_instrument",fg_class:"col-sm-6",options:["BAC"]}},[e._v("Result")]):e._e(),i("date-time",{attrs:{id:"time_bac_test",rules:"required|notFutureDt",fg_class:"col-sm-6"}},[e._v("Time of test")])],1),i("form-row",[e.isTestAdministeredApprovedInstrument?i("text-field",{attrs:{id:"test_result_bac",fg_class:"col-sm-12"}}):e._e()],1)],1)],1),e.isReadOnly?i("div",[i("read-only-element",{attrs:{id:"test_administered_asd"}},[e._v("Test Administered ASD")]),i("read-only-element",{attrs:{id:"asd_expiry_date"}},[e._v("ASD expiry date")]),i("read-only-element",{attrs:{id:"result_alcohol"}},[e._v("Result Alcohol")]),i("read-only-element",{attrs:{id:"test_administered_instrument"}},[e._v("Test Administered Approved Instrument")]),i("read-only-element",{attrs:{id:"result_alcohol_approved_instrument"}},[e._v("Approved instrument")]),i("read-only-element",{attrs:{id:"test_result_bac"}},[e._v("BAC Result")])],1):e._e()])},Nr=[],Ir={name:"OfficersReport",mixins:[bi],computed:{isTestAdministeredASD:function(){var e=this.getAttributeValue("test_administered_asd");return console.log("test_administered",e),!!Array.isArray(e)&&e.includes("Alco-Sensor FST (ASD)")},isTestAdministeredApprovedInstrument:function(){var e=this.getAttributeValue("test_administered_instrument");return console.log("test_administered",e),!!Array.isArray(e)&&e.includes("Approved Instrument")}}},Rr=Ir,Er=Object(h["a"])(Rr,Vr,Nr,!1,null,"7fdf79c8",null),Lr=Er.exports,qr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Test Administered - Drugs 215(3)"}},[e.isReadOnly?e._e():i("div",[i("shadow-box",[i("form-row",[i("check-field",{attrs:{show_label:!1,id:"test_administered_adse",fg_class:"col-sm-6",options:["Approved Drug Screening Equipment"]}},[e._v("Test Administered ")])],1),i("form-row",[e.isTestAdministeredADSE?i("check-field",{attrs:{id:"positive_adse",fg_class:"col-sm-6",options:["THC","Cocaine"]}},[e._v("Test result")]):e._e(),e.isTestAdministeredADSE?i("date-time",{attrs:{id:"time_of_physical_test_adse",rules:"required|notFutureDt",fg_class:"col-sm-6"}},[e._v("Time of test")]):e._e()],1)],1),i("shadow-box",[i("form-row",[i("check-field",{attrs:{show_label:!1,id:"test_administered_sfst",fg_class:"col-sm-6",options:["Prescribed Physical Coordination Test (SFST)"]}}),e.isTestAdministeredSFST?i("date-time",{attrs:{id:"time_of_physical_test_sfst",rules:"required|notFutureDt",fg_class:"col-sm-6"}},[e._v("Time of test")]):e._e()],1)],1),i("shadow-box",[i("form-row",[i("check-field",{attrs:{show_label:!1,id:"test_administered_dre",fg_class:"col-sm-6",options:["Prescribed Physical Coordination Test (DRE)"]}})],1),e.isTestAdministeredDRE?i("form-row",[i("date-time",{attrs:{id:"start_time_of_physical_test_dre",rules:"required|notFutureDt",fg_class:"col-sm-6"}},[e._v("Time of opinion")]),i("text-field",{attrs:{id:"positive_dre",fg_class:"col-sm-12"}},[e._v("Notes (expand to 3 lines)")])],1):e._e()],1),i("form-row",[i("check-field",{attrs:{id:"result_drug",fg_class:"col-sm-12",options:["Ability to drive affected by a drug"]}},[i("strong",[e._v("Result")])])],1)],1),e.isReadOnly?i("div",[i("read-only-element",{attrs:{id:"test_administered_adse"}},[e._v("Test ADSE")]),i("read-only-element",{attrs:{id:"positive_adse"}},[e._v("Result ADSE")]),i("read-only-element",{attrs:{id:"time_of_physical_test_adse"}},[e._v("Time of ADSE")]),i("read-only-element",{attrs:{id:"test_administered_sfst"}},[e._v("Test SFST")]),i("read-only-element",{attrs:{id:"time_of_physical_test_sfst"}},[e._v("Time of SFST")]),i("read-only-element",{attrs:{id:"test_administered_dre"}},[e._v("Test DRE")]),i("read-only-element",{attrs:{id:"start_time_of_physical_test_dre"}},[e._v("Time of DRE")]),i("read-only-element",{attrs:{id:"positive_dre"}},[e._v("DRE Notes")]),i("read-only-element",{attrs:{id:"result_drug"}},[e._v("Conclusion")])],1):e._e()])},Br=[],Mr={name:"OfficersReport",mixins:[bi],computed:{isProhibitionTypeSelected:function(){return this.getAttributeValue("prohibition_type").length>0},isProhibitionTypeDrugs:function(){return"Drugs 215(3)"===this.getAttributeValue("prohibition_type")},isOperatingGroundsOther:function(){return"Other"===this.getAttributeValue("operating_grounds")},isPrescribedTestUsed:function(){return"Yes"===this.getAttributeValue("prescribed_device").substr(0,3)},isTestAdministeredADSE:function(){var e=this.getAttributeValue("test_administered_adse");return console.log("test_administered",e),!!Array.isArray(e)&&e.includes("Approved Drug Screening Equipment")},isTestAdministeredSFST:function(){var e=this.getAttributeValue("test_administered_sfst");return console.log("test_administered",e),!!Array.isArray(e)&&e.includes("Prescribed Physical Coordination Test (SFST)")},isTestAdministeredDRE:function(){var e=this.getAttributeValue("test_administered_dre");return console.log("test_administered",e),!!Array.isArray(e)&&e.includes("Prescribed Physical Coordination Test (DRE)")}}},Ur=Mr,$r=Object(h["a"])(Ur,qr,Br,!1,null,null,null),Yr=$r.exports,Jr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-modal",{attrs:{id:"SupplementaryModal","hide-footer":"","hide-header":""}},[i("after-prohibition-was-served"),i("div",{staticClass:"d-flex flex-row justify-content-center"},[i("b-button",{staticClass:"mt-3",attrs:{variant:"success"},on:{click:e.finish}},[e._v("Finish")])],1)],1)],1)},Hr=[],zr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("form-card",[i("radio-field",{attrs:{id:"test_requested_after",fg_class:"col-sm-12",options:["Yes","No","Not applicable, refused by driver"]}},[e._v(" After the prohibition was served, did the driver request a breath test or prescribed physical coordination test? ")])],1),e.isPrescribedTestUsed?i("form-card",{attrs:{title:e.testAdministeredTitle}},[e.isProhibitionTypeAlcohol?i("shadow-box",[i("form-row",[i("check-field",{attrs:{show_label:!1,id:"after_test_administered",fg_class:"col-sm-6",options:["Alco-Sensor FST (ASD)"]}},[e._v("Test Administered")]),e.isProhibitionTypeAlcohol&&e.isTestAdministeredASD?i("date-field",{attrs:{id:"after_asd_expiry_date",fg_class:"col-sm-6",rules:"notExpired"}},[e._v("ASD expiry date")]):e._e(),e.isProhibitionTypeAlcohol&&e.isTestAdministeredASD?i("radio-field",{attrs:{id:"after_result_alcohol",fg_class:"col-sm-12",options:["51-99 mg%","Over 99 mg%"]}},[e._v("Result")]):e._e()],1)],1):e._e(),e.isProhibitionTypeAlcohol&&e.isPrescribedTestUsed?i("shadow-box",[i("form-row",[i("check-field",{attrs:{show_label:!1,id:"after_test_administered",fg_class:"col-sm-6",options:["Approved Instrument"]}})],1),i("form-row",[e.isTestAdministeredApprovedInstrument?i("check-field",{attrs:{id:"after_result_alcohol_approved_instrument",fg_class:"col-sm-2",options:["BAC"]}},[e._v("Result")]):e._e(),e.isTestAdministeredApprovedInstrument?i("text-field",{attrs:{id:"after_test_result_bac",fg_class:"col-sm-10"}}):e._e()],1)],1):e._e(),e.isProhibitionTypeDrugs?i("shadow-box",[i("form-row",[i("check-field",{attrs:{show_label:!1,id:"after_test_administered",fg_class:"col-sm-12",options:["Approved Drug Screening Equipment"]}},[e._v("Test Administered ")])],1),i("form-row",[e.isTestAdministeredADSE?i("check-field",{attrs:{id:"after_positive_adse",fg_class:"col-sm-12",options:["THC","Cocaine"]}},[e._v("Test result")]):e._e()],1),i("form-row",[e.isTestAdministeredADSE?i("date-time",{attrs:{id:"after_time_of_physical_test_adse",fg_class:"col-sm-12"}},[e._v("Time of test")]):e._e()],1)],1):e._e(),e.isProhibitionTypeDrugs&&e.isPrescribedTestUsed?i("shadow-box",[i("form-row",[i("check-field",{attrs:{show_label:!1,id:"after_test_administered",fg_class:"col-sm-12",options:["Prescribed Physical Coordination Test (SFST)"]}})],1),i("form-row",[e.isTestAdministeredSFST?i("date-time",{attrs:{id:"after_time_of_physical_test_sfst",fg_class:"col-sm-12"}},[e._v("Time of test")]):e._e()],1)],1):e._e(),e.isProhibitionTypeDrugs&&e.isPrescribedTestUsed?i("shadow-box",[i("form-row",[i("check-field",{attrs:{show_label:!1,id:"after_test_administered",fg_class:"col-sm-12",options:["Prescribed Physical Coordination Test (DRE)"]}})],1),e.isTestAdministeredDRE?i("form-row",[i("date-time",{attrs:{id:"after_start_time_of_physical_test_dre",fg_class:"col-sm-12"}},[e._v("Time of opinion")])],1):e._e(),i("form-row",[i("text-field",{attrs:{id:"after_positive_dre",fg_class:"col-sm-12"}},[e._v("Notes (expand to 3 lines)")])],1)],1):e._e(),e.isPrescribedTestUsed&&e.isProhibitionTypeDrugs?i("form-row",[i("check-field",{attrs:{id:"after_result_drug_sfst",fg_class:"col-sm-12",options:["Ability to drive affected by a drug"]}},[i("strong",[e._v("Result")])])],1):e._e()],1):e._e()],1)},Wr=[],Gr={name:"OfficersReport",mixins:[bi],computed:{isProhibitionTypeSelected:function(){return this.getAttributeValue("prohibition_type").length>0},isProhibitionTypeDrugs:function(){return"Drugs 215(3)"===this.getAttributeValue("prohibition_type")},isProhibitionTypeAlcohol:function(){return"Alcohol 215(2)"===this.getAttributeValue("prohibition_type")},isOperatingGroundsOther:function(){return"Other"===this.getAttributeValue("after_operating_grounds")},isPrescribedTestUsed:function(){return"Yes"===this.getAttributeValue("test_requested_after").substr(0,3)},isTestAdministeredASD:function(){var e=this.getAttributeValue("after_test_administered");return console.log("after_test_administered",e),!!Array.isArray(e)&&e.includes("Alco-Sensor FST (ASD)")},isTestAdministeredApprovedInstrument:function(){var e=this.getAttributeValue("after_test_administered");return console.log("test_administered",e),!!Array.isArray(e)&&e.includes("Approved Instrument")},isTestAdministeredADSE:function(){var e=this.getAttributeValue("after_test_administered");return console.log("after_test_administered",e),!!Array.isArray(e)&&e.includes("Approved Drug Screening Equipment")},isTestAdministeredSFST:function(){var e=this.getAttributeValue("after_test_administered");return console.log("after_test_administered",e),!!Array.isArray(e)&&e.includes("Prescribed Physical Coordination Test (SFST)")},isTestAdministeredDRE:function(){var e=this.getAttributeValue("after_test_administered");return console.log("after_test_administered",e),!!Array.isArray(e)&&e.includes("Prescribed Physical Coordination Test (DRE)")},testAdministeredTitle:function(){return"Test Administered - "+this.getAttributeValue("prohibition_type")}}},Xr=Gr,Kr=Object(h["a"])(Xr,zr,Wr,!1,null,"20df88e6",null),Qr=Kr.exports,Zr={name:"SupplementaryModal",components:{AfterProhibitionWasServed:Qr},methods:Object(f["a"])(Object(f["a"])({},Object(c["d"])(["stopEditingCurrentForm","saveFormsToLocalStorage"])),{},{finish:function(){this.saveFormsToLocalStorage(),this.stopEditingCurrentForm(),this.$bvModal.hide("SupplementaryModal")}})},es=Zr,ts=Object(h["a"])(es,Jr,Hr,!1,null,null,null),is=ts.exports,rs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-card",{attrs:{title:"Officer"}},[e.isReadOnly?i("div",{},[i("read-only-element",{attrs:{id:"agency"}},[e._v("Agency")]),i("read-only-element",{attrs:{id:"badge_number"}},[e._v("Badge Number")]),i("read-only-element",{attrs:{id:"officer_name"}},[e._v("Officer name")])],1):e._e(),e.isReadOnly?e._e():i("form-row",[i("text-field",{attrs:{id:"agency",rules:"required",fg_class:"col-sm-2"}},[e._v("Agency")]),i("text-field",{attrs:{id:"badge_number",rules:"required",fg_class:"col-sm-2"}},[e._v("Badge Number")]),i("text-field",{attrs:{id:"officer_name",rules:"required",fg_class:"col-sm-8"}},[e._v("Full Name of Peace Officer Serving Prohibition Notice")])],1)],1)},ss=[],os={name:"OfficerDetailsCard",mixins:[bi]},as=os,ns=Object(h["a"])(as,rs,ss,!1,null,null,null),ls=ns.exports,ds=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card-body text-dark text-left"},[i("div",{staticClass:"card w-100"},[i("div",{staticClass:"card-header lightgray text-dark font-weight-bold pt-2 pb-2"},[i("div",{staticClass:"row p-0 m-0"},[i("div",{staticClass:"col-6 pt-1 pl-0"},[e._v("Registered Owner")]),e.isReadOnly?e._e():i("div",{staticClass:"col-6 text-right"},[i("div",{staticClass:"custom-control custom-switch"},[i("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:e.owner_id},domProps:{checked:e.checkBoxStatus(e.owner_id,e.owner_option),value:e.owner_option},on:{input:e.updateCheckBox}}),i("label",{staticClass:"custom-control-label small",attrs:{for:e.owner_id}},[e._v("Driver is the vehicle owner")])])])])]),e.isReadOnly?e._e():i("div",{staticClass:"card-body lightgray"},[e.driverIsNotRegisteredOwner?i("div",[i("form-row",[i("check-field",{attrs:{fg_class:"col-sm-12",show_label:!1,id:"corporate_owner",options:["Owned by corporate entity"]}},[e._v("Corporation")])],1),i("form-row",[e.corporateOwner?i("text-field",{attrs:{id:"owners_corporation",fg_class:"col-sm-12"}},[e._v("Corporation Name")]):e._e(),e.corporateOwner?e._e():i("text-field",{attrs:{id:"owners_last_name",fg_class:"col-sm-6"}},[e._v("Owner's Last Name")]),e.corporateOwner?e._e():i("text-field",{attrs:{id:"owners_first_name",fg_class:"col-sm-6"}},[e._v("Owner's First Name")])],1),i("form-row",[i("text-field",{attrs:{id:"owners_address1",fg_class:"col-sm-12",placeholder:"Address",rules:"required"}},[e._v("Address Line 1")])],1),i("form-row",[i("text-field",{attrs:{id:"owners_address2",fg_class:"col-sm-12",placeholder:"Address"}},[e._v("Address Line 2")])],1),i("form-row",[i("type-ahead-field",{attrs:{id:"owners_city",fg_class:"col-sm-4",suggestions:e.getArrayOfBCCityNames,rules:"required"}},[e._v("City")]),i("province-field",{attrs:{id:"owners_province",fg_class:"col-sm-2"}},[e._v("Province")]),i("text-field",{attrs:{id:"owners_postal",fg_class:"col-sm-2"}},[e._v("Postal")]),i("phone-field",{attrs:{id:"owners_phone",fg_class:"col-sm-4",rules:"phone"}},[e._v("Phone")])],1)],1):e._e()]),e.isReadOnly?i("div",{staticClass:"card-body lightgray"},[i("read-only-element",{attrs:{id:e.owner_id}},[e._v("Driver is the vehicle owner")]),i("read-only-element",{attrs:{id:"corporate_owner"}},[e._v("Owner is a corporation")]),i("read-only-element",{attrs:{id:"owners_corporation"}},[e._v("Corporation name")]),i("read-only-element",{attrs:{id:"owners_last_name"}},[e._v("Last name")]),i("read-only-element",{attrs:{id:"owners_first_name"}},[e._v("First name")]),i("read-only-element",{attrs:{id:"owners_address1"}},[e._v("Address 1")]),i("read-only-element",{attrs:{id:"owners_address2"}},[e._v("Address 2")]),i("read-only-element",{attrs:{id:"owners_city"}},[e._v("City")]),i("read-only-element",{attrs:{id:"owners_province"}},[e._v("Province")]),i("read-only-element",{attrs:{id:"owners_postal"}},[e._v("Postal code")]),i("read-only-element",{attrs:{id:"owners_phone"}},[e._v("Phone")])],1):e._e()])])},cs=[],us={name:"VehicleOwnerCard",props:{title:String},mixins:[bi],data:function(){return{owner_id:"owner_is_driver",owner_option:"Driver is the vehicle owner"}},methods:Object(f["a"])({},Object(c["d"])(["updateCheckBox"])),computed:Object(f["a"])({},Object(c["c"])(["checkBoxStatus","driverIsNotRegisteredOwner","corporateOwner"]))},ms=us,fs=Object(h["a"])(ms,ds,cs,!1,null,null,null),_s=fs.exports,ps={name:"TwentyFourHourProhibition",components:{VehicleOwnerCard:_s,TestAdministeredAlcoholCard:Lr,TestAdministeredDrugsCard:Yr,ReasonableGroundsCard:Dr,ProhibitionInformationCard:Ar,SupplementaryModal:is,VehicleImpoundmentCard:_r,VehicleInformationCard:lr,DriversInformationCard:yr,ReturnOfLicenceCard:Ai,OfficerDetailsCard:ls},VehicleOwnerCard:_s,mixins:[Jt],computed:Object(f["a"])(Object(f["a"])({},Object(c["c"])(["getAttributeValue","isPlateJurisdictionBC","driverIsNotRegisteredOwner","corporateOwner","getXdfFileNameString","getPDFTemplateFileName","getXFDF","getCurrentFormData"])),{},{isProhibitionTypeDrugs:function(){return"Drugs 215(3)"===this.getAttributeValue("prohibition_type")},isProhibitionTypeAlcohol:function(){return"Alcohol 215(2)"===this.getAttributeValue("prohibition_type")},isPrescribedTestUsed:function(){return"Yes"===this.getAttributeValue("prescribed_device").substr(0,3)}}),methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(c["b"])(["saveDoNotPrint","deleteSpecificForm","fetchStaticLookupTables"])),Object(c["d"])(["saveFormsToLocalStorage","stopEditingCurrentForm"])),{},{saveAndPrint:function(e){console.log("inside saveAndPrint() "+e);var t=this.getXFDF(e);console.log("success generateXFDF()",t);var i=window.URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download=this.getXdfFileNameString,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(i),this.saveFormsToLocalStorage(),this.$bvModal.show("printConfirmationModal")}})},bs=ps,vs=(i("f27e"),Object(h["a"])(bs,tr,ir,!1,null,"6e6b685d",null)),hs=vs.exports,gs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form-container",{attrs:{title:"Immediate Roadside Prohibition"}},[i("form-card",{attrs:{title:"Vehicle Licence Plate"}},[i("form-row",[i("province-field",{attrs:{id:"plate_province",fg_class:"col-sm-2"}},[e._v("Jurisdiction")]),i("plate-number",{attrs:{id:"plate_number",fg_class:"col-sm-6"}},[e._v("Plate Number")])],1)],1),i("form-card",{attrs:{title:"Registered Owner"}},[i("form-row",[i("radio-field",{attrs:{id:"driver_is_owner",fg_class:"col-sm-6",options:["Yes","No"]}},[e._v("Driver is registered owner?")]),e.isJurisdictionBC?i("text-field",{attrs:{id:"owners_drivers_number"}},[e._v("Owner's Licence Number (BC only)")]):e._e()],1),i("form-row",[i("text-field",{attrs:{id:"owners_last_name",fg_class:"col-sm-6"}},[e._v("Owner's Last Name")]),i("text-field",{attrs:{id:"owners_first_name",fg_class:"col-sm-6"}},[e._v("Owner's First Name")])],1),i("form-row",[i("text-field",{attrs:{id:"owners_address1",fg_class:"col-sm-12",placeholder:"Address",rules:"required"}},[e._v("Address Line 1")])],1),i("form-row",[i("text-field",{attrs:{id:"owners_address2",fg_class:"col-sm-12",placeholder:"Address"}},[e._v("Address Line 2")])],1),i("form-row",[i("type-ahead-field",{attrs:{id:"owners_city",fg_class:"col-sm-4",suggestions:e.getArrayOfBCCityNames,rules:"required"}},[e._v("City")]),i("province-field",{attrs:{id:"owners_province",fg_class:"col-sm-2"}},[e._v("Province")]),i("text-field",{attrs:{id:"owners_postal",fg_class:"col-sm-2"}},[e._v("Postal")]),i("phone-field",{attrs:{id:"owners_phone",fg_class:"col-sm-4",rules:"phone"}},[e._v("Phone")])],1)],1),i("form-card",{attrs:{title:"Vehicle information"}},[i("form-row",[i("text-field",{attrs:{id:"plate_year",fg_class:"col-sm-4"}},[e._v("Plate Year")]),i("text-field",{attrs:{id:"plate_val_tag",input_type:"number",fg_class:"col-sm-4"}},[e._v("Plate Val Tag")]),i("text-field",{attrs:{id:"registration_number",fg_class:"col-sm-4"}},[e._v("Registration Number")])],1),i("form-row",[i("text-field",{attrs:{id:"vehicle_year",fg_class:"col-sm-3"}},[e._v("Vehicle Year")]),i("text-field",{attrs:{id:"vehicle_make",input_type:"number",fg_class:"col-sm-3"}},[e._v("Vehicle Make")]),i("text-field",{attrs:{id:"vehicle_model",fg_class:"col-sm-3"}},[e._v("Vehicle Model")]),i("text-field",{attrs:{id:"vehicle_color",fg_class:"col-sm-3"}},[e._v("Vehicle Colour")])],1),i("form-row",[i("text-field",{attrs:{id:"puj_code",fg_class:"col-sm-5"}},[e._v("PUJ Code")]),i("text-field",{attrs:{id:"nsc_number",fg_class:"col-sm-7"}},[e._v("NSC Number")])],1)],1),e.driverIsNotRegisteredOwner?i("form-card",{attrs:{title:"Driver's Information"}},[i("form-row",[i("province-field",{attrs:{id:"drivers_licence_jurisdiction",fg_class:"col-sm-2"}},[e._v("Jurisdiction")]),i("driver-licence-number",{attrs:{id:"drivers_number"}},[e._v("Driver's Licence Number")])],1),i("form-row",[i("text-field",{attrs:{id:"last_name",fg_class:"col-sm-4",placeholder:"Last Name",rules:"required"}},[e._v("Last Name")]),i("text-field",{attrs:{id:"first_name",fg_class:"col-sm-4",placeholder:"First Name",rules:"required"}},[e._v("First Name")]),i("dob-field",{attrs:{id:"dob",fg_class:"col-sm-4",rules:"dob"}},[e._v("Date of Birth")])],1),i("form-row",[i("text-field",{attrs:{id:"address1",fg_class:"col-sm-12",placeholder:"Address",rules:"required"}},[e._v("Address Line 1")])],1),i("form-row",[i("text-field",{attrs:{id:"address2",fg_class:"col-sm-12",placeholder:"Address"}},[e._v("Address Line 2")])],1),i("form-row",[i("type-ahead-field",{attrs:{id:"city",fg_class:"col-sm-6",suggestions:e.getArrayOfBCCityNames,rules:"required"}},[e._v("City")]),i("province-field",{attrs:{id:"province",fg_class:"col-sm-4"}},[e._v("Province")]),i("text-field",{attrs:{id:"postal",fg_class:"col-sm-2"}},[e._v("Postal")])],1)],1):e._e(),i("form-card",{attrs:{title:"Details"}},[i("form-row",[i("text-field",{attrs:{id:"agency",fg_class:"col-sm-2"}},[e._v("Agency")]),i("text-field",{attrs:{id:"file_number",fg_class:"col-sm-3"}},[e._v("File Number")]),i("date-time",{attrs:{id:"prohibition_start_time",fg_class:"col-sm-7"}},[e._v(" Time of driving, care or control ")])],1)],1),i("form-submission-buttons"),i("print-confirmation-modal",{attrs:{id:"printConfirmationModal",title:"printConfirmation"}})],1)},ys=[],Os={name:"ImmediateRoadsideProhibition",mixins:[Jt]},js=Os,Cs=Object(h["a"])(js,gs,ys,!1,null,null,null),ws=Cs.exports,xs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card mt-3 bg-light border-light pt-1 pb-1"},[i("div",{staticClass:"card-body"},[i("p",{staticClass:"card-text text-dark"},[e._v("We'd welcome your suggestions for how to improve this app.")]),i("p",{staticClass:"card-text"},[i("small",{staticClass:"text-muted"},[e._v("Contact us at: "+e._s(e.getRoadSafetyEmailAddress))])])])])},As=[],Fs={name:"FeedbackWelcome",computed:Object(f["a"])({},Object(c["c"])(["getRoadSafetyEmailAddress"]))},Ss=Fs,Ps=Object(h["a"])(Ss,xs,As,!1,null,null,null),Ts=Ps.exports,ks=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ds=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card w-100 mt-3 bg-light border-light"},[i("div",{staticClass:"card-body text-dark pt-1"},[i("p",{staticClass:"small text-left pt-1 pb-1 mb-0 mt-0"},[e._v("Search for a recent prohibition")]),i("form",[i("div",{staticClass:"form-row align-items-center"},[i("div",{staticClass:"col-sm-8 my-1"},[i("label",{staticClass:"sr-only small",attrs:{for:"prohibitionSearch"}},[e._v("Prohibition Number")]),i("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",id:"prohibitionSearch",placeholder:"Driver's last name or BCDL"}})]),i("div",{staticClass:"col-auto my-1"},[i("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"submit",disabled:""}},[e._v("Search")])])])])])])}],Vs={name:"ProhibitionSearch"},Ns=Vs,Is=(i("d160"),Object(h["a"])(Ns,ks,Ds,!1,null,"be42ae98",null)),Rs=Is.exports,Es=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card w-100 mt-3 mb-3"},[i("div",{staticClass:"card-header text-white text-left font-weight-bold small pl-3 pt-1 pb-1 bg-primary"},[e._v(" Recent Prohibitions ")]),i("div",{staticClass:"card-body text-left pb-1"},[i("table",{staticClass:"table table-striped"},[i("tbody",e._l(e.getAllEditedProhibitions,(function(e,t){return i("recent-prohibition-row",{key:t,attrs:{prohibition:e,prohibition_index:t}})})),1)])])])},Ls=[],qs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.prohibition?i("tr",[i("td",[e._v(" "+e._s(e.prohibition.data.last_name)+", "+e._s(e.prohibition.data.first_name)+" ("+e._s(e.prohibition.data.drivers_number)+") ")]),i("td",[e._v(e._s(e.prohibition.short_name))]),i("td",[e._v(e._s(e.getServedStatus(e.prohibition_index)))]),i("td",[i("span",{staticClass:"text-muted text-secondary small"},[e._v(e._s(e.prohibition.data.prohibition_number))])]),i("td",[i("h6",[e.isFormEditable(e.prohibition_index)?i("b-icon-trash",{attrs:{variant:"danger"},on:{click:function(t){return e.deleteSpecificForm(e.prohibition_index)}}}):e._e(),e._v(" "),e.isFormEditable(e.prohibition_index)?i("b-icon-pen",{attrs:{variant:"primary"},on:{click:function(t){return e.editExistingForm(e.prohibition_index)}}}):e._e(),e.isFormEditable(e.prohibition_index)?e._e():i("span",{staticClass:"text-muted text-secondary"},[i("b-icon-clock",{attrs:{variant:"primary"},on:{click:function(t){return e.deleteSpecificForm(e.prohibition_index)}}}),i("span",{staticClass:"small"},[e._v(" Sending ...")])],1)],1)])]):e._e()},Bs=[],Ms={name:"RecentProhibitionRow",props:{prohibition_index:null,prohibition:{}},computed:Object(f["a"])({},Object(c["c"])(["isFormEditable","getServedStatus"])),methods:Object(f["a"])(Object(f["a"])({},Object(c["d"])(["editExistingForm"])),Object(c["b"])(["deleteSpecificForm"]))},Us=Ms,$s=Object(h["a"])(Us,qs,Bs,!1,null,null,null),Ys=$s.exports,Js={name:"RecentProhibitions",computed:Object(f["a"])({},Object(c["c"])(["getAllEditedProhibitions","getSpecificForm"])),components:{RecentProhibitionRow:Ys}},Hs=Js,zs=Object(h["a"])(Hs,Es,Ls,!1,null,"57ee5e98",null),Ws=zs.exports,Gs={name:"App",components:{RecentProhibitions:Ws,ProhibitionSearch:Rs,FeedbackWelcome:Ts,OfflineBanner:y,IssueProhibitions:D,TwelveHourProhibition:er,TwentyFourHourProhibition:hs,ImmediateRoadsideProhibition:ws},computed:Object(f["a"])({},Object(c["c"])(["getAppVersion","isFormBeingEdited","getSelectedFormComponent","getCurrentlyEditedForm","isRecentProhibitions","isNetworkOnline"])),methods:Object(f["a"])(Object(f["a"])({},Object(c["b"])(["fetchStaticLookupTables"])),Object(c["d"])(["networkOffline","networkBackOnline"])),mounted:function(){this.fetchStaticLookupTables("impoundLotOperators"),this.fetchStaticLookupTables("countries"),this.fetchStaticLookupTables("jurisdictions"),this.fetchStaticLookupTables("provinces"),this.fetchStaticLookupTables("cities"),this.fetchStaticLookupTables("colors"),this.fetchStaticLookupTables("vehicles"),this.fetchStaticLookupTables("pickup_locations")}},Xs=Gs,Ks=(i("034f"),Object(h["a"])(Xs,u,m,!1,null,null,null)),Qs=Ks.exports,Zs=i("5f5b"),eo=i("dbbe"),to=i("b1e0"),io=i("7bb1"),ro=(i("dcb3"),i("3835")),so=i("b85c"),oo=(i("4de4"),i("d81d"),i("b0c0"),{URL_ROOT:"https://rsbc-dh-prohibition-web-service-dev.apps.silver.devops.gov.bc.ca",UNIQUE_ID_REFRESH_DAYS:15,MINIMUM_NUMBER_OF_UNIQUE_IDS_PER_TYPE:1}),ao=(i("159b"),i("4fad"),i("b25c"));function no(e,t){var i=lo(e,t);return new File([i],"documentElement.xml")}function lo(e,t){console.log("inside get_xml()"),console.log(t);var i=ao.create({version:"1.0",encoding:"UTF-8"}).ele("xfdf",{xmlns:"http://ns.adobe.com/xfdf/","xml:space":"preserve"}).ele("f",{href:e}).up().ele("fields");Object.entries(t).forEach((function(e){console.log("property",e);var t={name:e[0]};i.ele("field",t).ele("value").txt(String(e[1]))})),i.up().doc();var r=i.end({format:"xml",prettyPrint:!0});return console.log("root_string",r),r}var co={generate:no},uo={getAllAvailableForms:function(e){return e.form_schemas.forms},getAppVersion:function(e){return e.version},getAllEditedProhibitions:function(e){return e.edited_forms},isFormBeingEdited:function(e){return null!==e.currently_editing_prohibition_index},getCurrentlyEditedProhibitionIndex:function(e){return e.currently_editing_prohibition_index},getCurrentlyEditedProhibitionNumber:function(e){return e.edited_forms[e.currently_editing_prohibition_index].data.prohibition_number},getSelectedFormComponent:function(e){var t=e.currently_editing_prohibition_index;return null==t?null:e.edited_forms[t].component},getCurrentlyEditedForm:function(e){console.log("inside getCurrentlyEditedForm");var t=e.currently_editing_prohibition_index;return null==t?null:e.edited_forms[t]},getFormSteps:function(e){var t=e.currently_editing_prohibition_index;return e.edited_forms[t].steps},getFormCurrentStep:function(e){var t=e.currently_editing_prohibition_index;return e.edited_forms[t].data.current_step},isPreviousButtonDisabled:function(e){var t=e.currently_editing_prohibition_index;if(1===e.edited_forms[t].data.current_step)return!0},isNextButtonDisabled:function(e){var t=e.currently_editing_prohibition_index,i=e.edited_forms[t].steps.length;if(e.edited_forms[t].data.current_step===i)return!0},getAttributeValue:function(e){return function(t){var i=e.currently_editing_prohibition_index,r=e.edited_forms[i].data;return t in r?r[t]:""}},checkBoxStatus:function(e){return function(t,i){var r=e.currently_editing_prohibition_index,s=e.edited_forms[r].data;return t in s&&s[t].includes(i)}},getArrayOfBCCityNames:function(e){return e.cities},getArrayOfCommonCarColors:function(e){return e.colors},getArrayOfVehicleYears:function(e){return e.vehicles.map((function(e){return e.year})).filter(mo)},getArrayOfVehicleMakes:function(e){var t=e.currently_editing_prohibition_index,i=e.edited_forms[t].data.vehicle_year,r=e.vehicles.filter((function(e){return e.year===i}));return r.length>0?r.map((function(e){return e.make})).filter(mo):[]},getArrayOfVehicleModels:function(e){var t=e.currently_editing_prohibition_index,i=e.edited_forms[t].data.vehicle_year,r=e.edited_forms[t].data.vehicle_make,s=e.vehicles.filter((function(e){return e.year===i&&e.make===r}));return s.length>0?s.map((function(e){return e.model})):[]},isRecentProhibitions:function(e){return e.edited_forms.length>0},getSpecificForm:function(e){return function(t){return e.edited_forms[t]}},isNetworkOnline:function(e){return e.isOnline},isFormEditable:function(e){return function(t){return!1===e.edited_forms[t].data.served}},getServedStatus:function(e){return function(t){return e.edited_forms[t].data.served?"Served":"Not Served"}},getRoadSafetyEmailAddress:function(e){return e.ROADSAFETY_EMAIL},getXdfFileNameString:function(e){var t=e.currently_editing_prohibition_index,i=".xfdf",r=e.edited_forms[t].data.last_name,s=e.edited_forms[t].data.prohibition_number,o=r+"_"+s+i;return console.log("filename",o),o},getPDFTemplateFileName:function(e){var t=e.currently_editing_prohibition_index;return e.edited_forms[t].pdf_template},getArrayOfJurisdictions:function(e){return e.jurisdictions},getArrayOfProvinces:function(e){return e.provinces},getArrayOfImpoundLotOperators:function(e){return e.impoundLotOperators.map((function(e){return e.name+" - "+e.lot_address+", "+e.city+", "+e.phone}))},getArrayOfPickupLocations:function(e){return e.pickup_locations.map((function(e){return e.address+", "+e.city}))},isPlateJurisdictionBC:function(e){var t=e.currently_editing_prohibition_index,i=e.edited_forms[t].data;return"British Columbia"===i["plate_province"]},isLicenceJurisdictionBC:function(e){var t=e.currently_editing_prohibition_index,i=e.edited_forms[t].data;return"British Columbia"===i["drivers_licence_jurisdiction"]},driverIsNotRegisteredOwner:function(e){var t=e.currently_editing_prohibition_index,i=e.edited_forms[t].data;return!!i["owner_is_driver"]&&!i["owner_is_driver"].includes("Driver is the vehicle owner")},corporateOwner:function(e){var t=e.currently_editing_prohibition_index,i=e.edited_forms[t].data;return!!i["corporate_owner"]&&i["corporate_owner"].includes("Owned by corporate entity")},getCurrentFormData:function(e){var t=e.currently_editing_prohibition_index;return e.edited_forms[t].data},getXFDF:function(e,t){return function(e){var i=t.getKeyValuePairs;return co.generate(e,i)}},areNewUniqueIdsRequiredByType:function(e,t){return function(i){return console.log("inside areNewUniqueIdsRequiredByType()",i),e.unique_ids==={}?(console.log("Unique ids have never been retrieved before"),!0):t.getMinimumUniqueIdsOnHandByType(i)<oo.MINIMUM_NUMBER_OF_UNIQUE_IDS_PER_TYPE?(console.log("Number of unique ids is below set minimums",t.getMinimumUniqueIdsOnHandByType(i)),!0):t.getOldestUniqueIdExpiryDateByType(i)>oo.UNIQUE_ID_REFRESH_DAYS&&(console.log("At least one unique ids is getting close to it's expiry date"),!0)}},getMinimumUniqueIdsOnHandByType:function(e){return function(t){return t in e.unique_ids?e.unique_ids[t].length:0}},getOldestUniqueIdExpiryDateByType:function(e){return function(t){var i=0;if(t in e.unique_ids){var r,s=Object(so["a"])(e.unique_ids[t]);try{for(s.s();!(r=s.n()).done;){var o=r.value,a=Ge()().diff(o.lease_expiry,"days");return a>i&&(i=a),i}}catch(n){s.e(n)}finally{s.f()}}}},getNextAvailableUniqueIdByType:function(e){return function(t){console.log("inside getNextAvailableUniqueId()");var i,r=Object(so["a"])(e.unique_ids[t].entries());try{for(r.s();!(i=r.n()).done;){var s=Object(ro["a"])(i.value,2),o=s[0],a=s[1];return console.log("record",a),Ge()().diff(a.lease_expiry,"days")<0?(console.log("inside loop",a,o),{id:a.id,type:t,idx:o}):{}}}catch(n){r.e(n)}finally{r.f()}}},getKeyValuePairs:function(e){var t=e.currently_editing_prohibition_index;console.log("getKeyValuePairs(): ",t);var i=e.edited_forms[t].data;console.log("getFormKeyValuePairs()",i);var r=Array();for(var s in i)r[s]=i[s];return console.log("getKeyValuePairs()",r),r}};function mo(e,t,i){return i.indexOf(e)===t}i("a434");var fo={editExistingForm:function(e,t){console.log("inside editExistingForm: "+t),e.currently_editing_prohibition_index=t},updateFormField:function(e,t){console.log("inside mutations.js updateFormField(): "+JSON.stringify(t)),console.log("ID: "+t.target.id),console.log("value: "+t.target.value);var i=t.target.id,r=t.target.value,s=e.currently_editing_prohibition_index;d["default"].set(e.edited_forms[s].data,i,r)},updateCheckBox:function(e,t){console.log("inside mutations.js updateCheckBox():",t),console.log("ID: "+t.target.id),console.log("value: "+t.target.value);var i=t.target.id,r=t.target.value,s=e.currently_editing_prohibition_index,o=e.edited_forms[s].data;if(o[i])if(o[i].includes(r)&&"object"===Object(li["a"])(o[i])){console.log(r,"exists, remove it");var a=o[i].indexOf(r);o[i].splice(a,1)}else console.log(r,"does not exist, add it"),o[i].push(r);else console.log("initial push",r),d["default"].set(o,i,[r])},saveFormsToLocalStorage:function(e){console.log("inside mutations.js saveFormsToLocalStorage()"),localStorage.setItem("digitalProhibitions",JSON.stringify(e.edited_forms))},retrieveFormsFromLocalStorage:function(e){var t=localStorage.getItem("digitalProhibitions");if(t){var i=JSON.parse(t);console.log("localStorage.digitalProhibitions does exists"),i.forEach((function(t){e.edited_forms.push(t)}))}else console.log("localStorage.digitalProhibitions does not exist")},saveUniqueIdsToLocalStorage:function(e){console.log("inside mutations.js saveUniqueIdsToLocalStorage()"),localStorage.setItem("uniqueIds",JSON.stringify(e.unique_ids));var t=localStorage.getItem("uniqueIds");console.log("saved d",t)},retrieveUniqueIdsFromLocalStorage:function(e){console.log("inside mutations.js retrieveUniqueIdsFromLocalStorage()");var t=localStorage.getItem("uniqueIds");t&&(e.unique_ids=JSON.parse(t)),console.log(e.unique_ids,"unique_ids")},deleteForm:function(e,t){console.log("inside mutations.js deleteForm()"),d["default"].delete(e.edited_forms,t)},stopEditingCurrentForm:function(e){e.currently_editing_prohibition_index=null},markFormStatusAsServed:function(e){console.log("inside markFormStatusAsServed()");var t=e.currently_editing_prohibition_index;d["default"].set(e.edited_forms[t].data,"served",!0)},networkBackOnline:function(e){e.isOnline=!0},networkOffline:function(e){e.isOnline=!1},nextStep:function(e){var t=e.currently_editing_prohibition_index,i=e.edited_forms[t].data.current_step;d["default"].set(e.edited_forms[t].data,"current_step",i+1)},previousStep:function(e){var t=e.currently_editing_prohibition_index,i=e.edited_forms[t].data.current_step;d["default"].set(e.edited_forms[t].data,"current_step",i-1)},updateUniqueIDs:function(e,t){d["default"].set(e.unique_ids,t.schema,t.data),console.log("data: ",e.unique_ids)},deleteUniqueIdFromAvailableList:function(e,t){console.log("inside deleteUniqueIdFromAvailableList()",t),e.unique_ids[t.type].shift(t.idx)},editNewForm:function(e,t){console.log("inside editNewForm",t);var i=e.form_schemas.forms[t.form_short_name];console.log("debug",i);var r=e.edited_forms.push(JSON.parse(JSON.stringify(i)))-1,s=e.edited_forms[r];console.log("root",s),d["default"].set(s,"data",Object()),d["default"].set(s.data,"current_step",1),d["default"].set(s.data,"served",!1),d["default"].set(s.data,"submitted",!1),d["default"].set(s.data,"owner_is_driver",["Driver is the vehicle owner"]),d["default"].set(s.data,"prohibition_number",t.prohibition_number),e.currently_editing_prohibition_index=r,console.log("check edited_forms: "+JSON.stringify(e.edited_forms))},populateStaticLookupTables:function(e,t){d["default"].set(e,t.type,t.data)}},_o=i("1da1"),po=(i("96cf"),i("466d"),{initializeStore:function(e){console.log("inside actions.js initializeStore()"),e.commit("retrieveFormsFromLocalStorage")},saveDoNotPrint:function(e){console.log("inside actions.js saveDoNotPrint()"),e.commit("stopEditingCurrentForm"),e.commit("saveFormsToLocalStorage")},deleteSpecificForm:function(e,t){var i=e.commit;i("deleteForm",t),i("saveFormsToLocalStorage"),i("stopEditingCurrentForm")},pluckNextUniqueIdFromListByType:function(e,t){var i=e.commit,r=e.getters;console.log("inside pluckNextUniqueIdFromListByType()",t);var s=r.getNextAvailableUniqueIdByType(t);if(console.log("payload",s),s)return i("deleteUniqueIdFromAvailableList",{type:t,idx:s.idx}),i("saveUniqueIdsToLocalStorage"),s.id},setNewFormToEdit:function(e,t){var i=e.dispatch,r=e.commit;console.log("inside setNewFormToEdit"),i("pluckNextUniqueIdFromListByType",t).then((function(e){r("editNewForm",{prohibition_number:e,form_short_name:t}),r("saveUniqueIdsToLocalStorage")}))},retrieveAndSaveUniqueIds:function(e){var t=e.commit,i=e.getters,r=e.state;console.log("inside retrieveAndSaveUniqueIds()"),t("retrieveUniqueIdsFromLocalStorage");var s=function(e){if(i.areNewUniqueIdsRequiredByType(e)){console.log("new UniqueIDs are required for "+e);var r=oo.URL_ROOT+"/api/v1/prohibitions/leases/";fetch(r+e,{method:"POST"}).then((function(e){return e.json()})).then((function(i){t("updateUniqueIDs",{schema:e,data:i})})).catch((function(e){console.log(e)}))}else console.log("new UniqueIDs are NOT required",e)};for(var o in r.form_schemas.forms)s(o);t("saveUniqueIdsToLocalStorage")},populateDriversFromICBC:function(e,t){return Object(_o["a"])(regeneratorRuntime.mark((function i(){var r,s,o,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=e.state,console.log("inside actions.js populateDriversFromICBC(): "+t),s=t["formIndex"],o=t["dlNumber"],a=oo.URL_ROOT+"/api/v1/drivers/"+o,i.next=7,fetch(a,{method:"GET"}).then((function(e){return e.json()})).then((function(e){var t=e["party"]["addresses"][0];d["default"].set(r.edited_forms[s].data,"drivers_number",e["dlNumber"]),d["default"].set(r.edited_forms[s].data,"last_name",e["party"]["lastName"]),d["default"].set(r.edited_forms[s].data,"first_name",e["party"]["firstName"]),d["default"].set(r.edited_forms[s].data,"address1",t["addressLine1"]),d["default"].set(r.edited_forms[s].data,"city",t["city"]),d["default"].set(r.edited_forms[s].data,"province",t["region"]),d["default"].set(r.edited_forms[s].data,"postal",t["postalCode"]),d["default"].set(r.edited_forms[s].data,"dob",e["birthDate"])})).catch((function(e){console.log(e)}));case 7:return i.abrupt("return",i.sent);case 8:case"end":return i.stop()}}),i)})))()},populateFromICBCPlateLookup:function(e,t){return Object(_o["a"])(regeneratorRuntime.mark((function i(){var r,s,o,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=e.state,console.log("inside actions.js populateFromICBCPlateLookup(): "),console.log("icbcPayload",t),s=t["formIndex"],o=t["plateNumber"],a=oo.URL_ROOT+"/api/v1/vehicles/"+o,i.next=8,fetch(a,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log("data",e),d["default"].set(r.edited_forms[s].data,"registration_number",e["registrationNumber"]),d["default"].set(r.edited_forms[s].data,"vehicle_year",e["vehicleModelYear"]),d["default"].set(r.edited_forms[s].data,"vehicle_make",e["vehicleMake"]),d["default"].set(r.edited_forms[s].data,"vehicle_model",e["vehicleModel"]),d["default"].set(r.edited_forms[s].data,"vehicle_color",e["vehicleColour"]),d["default"].set(r.edited_forms[s].data,"vin_number",e["vehicleIdNumber"]);var t=e["vehicleParties"][0]["party"],i=t["addresses"][0];d["default"].set(r.edited_forms[s].data,"owner_is_driver",[]),d["default"].set(r.edited_forms[s].data,"owners_last_name",t["lastName"]),d["default"].set(r.edited_forms[s].data,"owners_first_name",t["firstName"]),d["default"].set(r.edited_forms[s].data,"owners_address1",i["addressLine1"]),d["default"].set(r.edited_forms[s].data,"owners_city",i["city"]),d["default"].set(r.edited_forms[s].data,"owners_province",i["region"]),d["default"].set(r.edited_forms[s].data,"owners_postal",i["postalCode"])})).catch((function(e){console.log("catch inside populateFromIcbcPlateLookup()"),console.log(e)}));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}}),i)})))()},fetchStaticLookupTables:function(e,t){var i=e.commit,r=oo.URL_ROOT+"/api/v1/configuration/"+t,s=!1,o=fetch(r,{method:"GET"}).then((function(e){return e.json()})).then((function(e){s=!0,i("populateStaticLookupTables",{type:t,data:e})})).catch((function(e){console.log("network request failed",e)}));caches.match(r).then((function(e){if(!e)throw Error("No cached data");return e.json()})).then((function(e){if(!s)return e})).catch((function(){return o}))}}),bo=i("9483");Object(bo["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New version of app is available - reloading app automatically"),document.dispatchEvent(new CustomEvent("swUpdated",{detail:e}))},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var vo=i("9224");d["default"].use(c["a"]),d["default"].use(Zs["a"]),d["default"].use(eo["a"]),d["default"].use(to["a"]),i("1f68"),d["default"].component("ValidationProvider",io["a"]),d["default"].config.productionTip=!1;var ho=new c["a"].Store({state:{version:vo["a"],isOnline:null,edited_forms:Array(),currently_editing_prohibition_index:null,form_schemas:{forms:{"12Hour":{component:"TwelveHourProhibition",short_name:"12Hour",steps:["Prohibition","Validate & Serve"],description:"12 Hour Driving Suspension",full_name:"MV2906",pdf_template:"MV2906_12h_Suspension_2021-04-27.pdf"},"24Hour":{component:"TwentyFourHourProhibition",steps:["Prohibition","Validate & Serve"],short_name:"24Hour",description:"24-Hour Prohibition",full_name:"MV2634",pdf_template:"MV2634_24h_Prohibition_2021-04-27.pdf"},IRP:{component:"ImmediateRoadsideProhibition",short_name:"IRP",description:"Immediate Roadside Prohibition",full_name:"MV2723",pdf_template:"MV2906_12h_Suspension_2021-04-27.pdf"}}},unique_ids:{},impoundLotOperators:[],provinces:[],jurisdictions:[],countries:[],cities:[],colors:[],vehicles:[],pickup_locations:[],ROADSAFETY_EMAIL:"[to_be_determined@gov.bc.ca]"},mutations:fo,getters:uo,actions:po});new d["default"]({store:ho,beforeCreate:function(){ho.dispatch("retrieveAndSaveUniqueIds"),ho.commit("retrieveFormsFromLocalStorage")},render:function(e){return e(Qs)}}).$mount("#app")},"85ec":function(e,t,i){},9224:function(e){e.exports=JSON.parse('{"a":"0.1.12"}')},a9b4:function(e,t,i){e.exports=i.p+"img/BCID_RoadSafetyBC_logo_transparent.0a1d1387.png"},b06e:function(e,t,i){},d160:function(e,t,i){"use strict";i("b06e")},dcb3:function(e,t,i){},f27e:function(e,t,i){"use strict";i("0f75")}});
//# sourceMappingURL=app.27d6cee0.js.map